<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>指令的奥秘 | 房飞跃的博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="房飞跃的博客">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/assets/css/0.styles.5df48ca7.css" as="style"><link rel="preload" href="/assets/js/app.590f3e5d.js" as="script"><link rel="preload" href="/assets/js/2.f73decc9.js" as="script"><link rel="preload" href="/assets/js/45.03e75bbd.js" as="script"><link rel="preload" href="/assets/js/63.b9a657c2.js" as="script"><link rel="prefetch" href="/assets/js/10.36b3eded.js"><link rel="prefetch" href="/assets/js/100.fdda705a.js"><link rel="prefetch" href="/assets/js/101.1c5bcc65.js"><link rel="prefetch" href="/assets/js/102.cbf2e24c.js"><link rel="prefetch" href="/assets/js/103.fbcc2768.js"><link rel="prefetch" href="/assets/js/104.dd789823.js"><link rel="prefetch" href="/assets/js/105.70f42acb.js"><link rel="prefetch" href="/assets/js/106.d2e7b246.js"><link rel="prefetch" href="/assets/js/107.f94a9fac.js"><link rel="prefetch" href="/assets/js/108.0cef0068.js"><link rel="prefetch" href="/assets/js/109.4ce3cdbd.js"><link rel="prefetch" href="/assets/js/11.b581d225.js"><link rel="prefetch" href="/assets/js/110.ea6d13b1.js"><link rel="prefetch" href="/assets/js/111.0a815db3.js"><link rel="prefetch" href="/assets/js/112.231e2995.js"><link rel="prefetch" href="/assets/js/113.a47d5167.js"><link rel="prefetch" href="/assets/js/114.527b5e8c.js"><link rel="prefetch" href="/assets/js/115.4df6874a.js"><link rel="prefetch" href="/assets/js/116.2606e7be.js"><link rel="prefetch" href="/assets/js/117.d54bfc25.js"><link rel="prefetch" href="/assets/js/118.9862082e.js"><link rel="prefetch" href="/assets/js/119.a75e8894.js"><link rel="prefetch" href="/assets/js/12.41a5ab33.js"><link rel="prefetch" href="/assets/js/120.6e13557a.js"><link rel="prefetch" href="/assets/js/121.eafa87fa.js"><link rel="prefetch" href="/assets/js/122.e4c849dc.js"><link rel="prefetch" href="/assets/js/123.dedb825a.js"><link rel="prefetch" href="/assets/js/124.afeaa1c4.js"><link rel="prefetch" href="/assets/js/125.b25549b3.js"><link rel="prefetch" href="/assets/js/126.4c3d3fcb.js"><link rel="prefetch" href="/assets/js/127.4c98858a.js"><link rel="prefetch" href="/assets/js/128.854b8cc1.js"><link rel="prefetch" href="/assets/js/129.112e862a.js"><link rel="prefetch" href="/assets/js/13.ee1d9787.js"><link rel="prefetch" href="/assets/js/130.b88070a9.js"><link rel="prefetch" href="/assets/js/131.29e91054.js"><link rel="prefetch" href="/assets/js/132.248e712b.js"><link rel="prefetch" href="/assets/js/133.0b7be740.js"><link rel="prefetch" href="/assets/js/134.ceb9c04b.js"><link rel="prefetch" href="/assets/js/135.599ee1d5.js"><link rel="prefetch" href="/assets/js/136.ce5bcf19.js"><link rel="prefetch" href="/assets/js/137.51f0a6b4.js"><link rel="prefetch" href="/assets/js/138.91bc64aa.js"><link rel="prefetch" href="/assets/js/139.300c0ef9.js"><link rel="prefetch" href="/assets/js/14.39a205f1.js"><link rel="prefetch" href="/assets/js/140.7044d372.js"><link rel="prefetch" href="/assets/js/141.9a9d663a.js"><link rel="prefetch" href="/assets/js/142.814b7237.js"><link rel="prefetch" href="/assets/js/143.1ce72115.js"><link rel="prefetch" href="/assets/js/144.f82c0950.js"><link rel="prefetch" href="/assets/js/145.2b4ef4fc.js"><link rel="prefetch" href="/assets/js/146.8b80954b.js"><link rel="prefetch" href="/assets/js/147.fe15e14a.js"><link rel="prefetch" href="/assets/js/148.29803b80.js"><link rel="prefetch" href="/assets/js/149.a3995f20.js"><link rel="prefetch" href="/assets/js/15.db4b1d97.js"><link rel="prefetch" href="/assets/js/150.02476224.js"><link rel="prefetch" href="/assets/js/151.34d53d30.js"><link rel="prefetch" href="/assets/js/152.f4382542.js"><link rel="prefetch" href="/assets/js/153.7986e095.js"><link rel="prefetch" href="/assets/js/154.cb74fee8.js"><link rel="prefetch" href="/assets/js/155.f933c4d1.js"><link rel="prefetch" href="/assets/js/156.9e450f38.js"><link rel="prefetch" href="/assets/js/157.4374f6c6.js"><link rel="prefetch" href="/assets/js/158.e31f0038.js"><link rel="prefetch" href="/assets/js/159.acbfc21e.js"><link rel="prefetch" href="/assets/js/16.9deed75c.js"><link rel="prefetch" href="/assets/js/160.8cdb57f8.js"><link rel="prefetch" href="/assets/js/161.3eca6d69.js"><link rel="prefetch" href="/assets/js/162.d67e29cf.js"><link rel="prefetch" href="/assets/js/163.d7d8a363.js"><link rel="prefetch" href="/assets/js/164.153713be.js"><link rel="prefetch" href="/assets/js/165.4ec834cb.js"><link rel="prefetch" href="/assets/js/166.6584eb16.js"><link rel="prefetch" href="/assets/js/167.c3edfee1.js"><link rel="prefetch" href="/assets/js/168.1605a092.js"><link rel="prefetch" href="/assets/js/169.c7aebeb4.js"><link rel="prefetch" href="/assets/js/17.d7e980f9.js"><link rel="prefetch" href="/assets/js/170.a38f18fe.js"><link rel="prefetch" href="/assets/js/171.761cf543.js"><link rel="prefetch" href="/assets/js/172.1f4b197e.js"><link rel="prefetch" href="/assets/js/173.34ebda5b.js"><link rel="prefetch" href="/assets/js/174.8c76d6e4.js"><link rel="prefetch" href="/assets/js/175.ad549e70.js"><link rel="prefetch" href="/assets/js/176.9866d668.js"><link rel="prefetch" href="/assets/js/177.1376a82c.js"><link rel="prefetch" href="/assets/js/178.2f222d8d.js"><link rel="prefetch" href="/assets/js/179.516a4e47.js"><link rel="prefetch" href="/assets/js/18.55ece6ed.js"><link rel="prefetch" href="/assets/js/180.1c448ad8.js"><link rel="prefetch" href="/assets/js/181.a4745dce.js"><link rel="prefetch" href="/assets/js/182.060ce287.js"><link rel="prefetch" href="/assets/js/183.aa397cf5.js"><link rel="prefetch" href="/assets/js/184.eedb5e7b.js"><link rel="prefetch" href="/assets/js/185.e13c55ec.js"><link rel="prefetch" href="/assets/js/186.e7d5c72b.js"><link rel="prefetch" href="/assets/js/187.6cc11c55.js"><link rel="prefetch" href="/assets/js/188.bff141ef.js"><link rel="prefetch" href="/assets/js/189.54cda1bb.js"><link rel="prefetch" href="/assets/js/19.6969d652.js"><link rel="prefetch" href="/assets/js/190.df4b36f2.js"><link rel="prefetch" href="/assets/js/191.b1602a58.js"><link rel="prefetch" href="/assets/js/192.8a143411.js"><link rel="prefetch" href="/assets/js/193.e31348b9.js"><link rel="prefetch" href="/assets/js/194.ef1f0a74.js"><link rel="prefetch" href="/assets/js/195.77ef93ce.js"><link rel="prefetch" href="/assets/js/196.fda6b3dd.js"><link rel="prefetch" href="/assets/js/197.51f02977.js"><link rel="prefetch" href="/assets/js/198.bf7775ee.js"><link rel="prefetch" href="/assets/js/199.dfa0fce8.js"><link rel="prefetch" href="/assets/js/20.0a0371f1.js"><link rel="prefetch" href="/assets/js/200.633b314b.js"><link rel="prefetch" href="/assets/js/201.abcba495.js"><link rel="prefetch" href="/assets/js/202.e05a3558.js"><link rel="prefetch" href="/assets/js/203.55a478a3.js"><link rel="prefetch" href="/assets/js/204.45db1987.js"><link rel="prefetch" href="/assets/js/205.e7610693.js"><link rel="prefetch" href="/assets/js/206.a31bc767.js"><link rel="prefetch" href="/assets/js/207.1aad1d13.js"><link rel="prefetch" href="/assets/js/208.6b93971f.js"><link rel="prefetch" href="/assets/js/209.2c1396dc.js"><link rel="prefetch" href="/assets/js/21.5f3d0414.js"><link rel="prefetch" href="/assets/js/210.bb90faf0.js"><link rel="prefetch" href="/assets/js/211.6aacd030.js"><link rel="prefetch" href="/assets/js/212.a341bb68.js"><link rel="prefetch" href="/assets/js/213.3e163adf.js"><link rel="prefetch" href="/assets/js/214.2519eb04.js"><link rel="prefetch" href="/assets/js/215.31a56efc.js"><link rel="prefetch" href="/assets/js/216.5f6e4518.js"><link rel="prefetch" href="/assets/js/217.d9618812.js"><link rel="prefetch" href="/assets/js/218.d386c011.js"><link rel="prefetch" href="/assets/js/219.395af281.js"><link rel="prefetch" href="/assets/js/22.1a5b1251.js"><link rel="prefetch" href="/assets/js/220.615b3dac.js"><link rel="prefetch" href="/assets/js/221.33401568.js"><link rel="prefetch" href="/assets/js/222.a080e6cc.js"><link rel="prefetch" href="/assets/js/223.ae2084fb.js"><link rel="prefetch" href="/assets/js/224.6bc203fe.js"><link rel="prefetch" href="/assets/js/225.7e4737a3.js"><link rel="prefetch" href="/assets/js/226.ec6a690d.js"><link rel="prefetch" href="/assets/js/227.967f1c41.js"><link rel="prefetch" href="/assets/js/228.c72d8b21.js"><link rel="prefetch" href="/assets/js/229.48dd2f01.js"><link rel="prefetch" href="/assets/js/23.76e30a13.js"><link rel="prefetch" href="/assets/js/230.1c02b6ab.js"><link rel="prefetch" href="/assets/js/231.8cf14ae6.js"><link rel="prefetch" href="/assets/js/232.4e00abc6.js"><link rel="prefetch" href="/assets/js/233.9a6bfb8c.js"><link rel="prefetch" href="/assets/js/234.7b1814f9.js"><link rel="prefetch" href="/assets/js/235.414e1dad.js"><link rel="prefetch" href="/assets/js/236.5926b488.js"><link rel="prefetch" href="/assets/js/237.df3857ea.js"><link rel="prefetch" href="/assets/js/238.c560dcf8.js"><link rel="prefetch" href="/assets/js/239.842efd50.js"><link rel="prefetch" href="/assets/js/24.1febfcd1.js"><link rel="prefetch" href="/assets/js/240.d47f24ed.js"><link rel="prefetch" href="/assets/js/241.ab01ea87.js"><link rel="prefetch" href="/assets/js/242.a5f6d83f.js"><link rel="prefetch" href="/assets/js/243.cac5f5c3.js"><link rel="prefetch" href="/assets/js/244.90105026.js"><link rel="prefetch" href="/assets/js/245.b18fffa1.js"><link rel="prefetch" href="/assets/js/246.941bcf8d.js"><link rel="prefetch" href="/assets/js/247.8b295baa.js"><link rel="prefetch" href="/assets/js/248.c6a61d12.js"><link rel="prefetch" href="/assets/js/249.22ff657f.js"><link rel="prefetch" href="/assets/js/25.6fbbd83f.js"><link rel="prefetch" href="/assets/js/250.8a2def71.js"><link rel="prefetch" href="/assets/js/251.aa4f0601.js"><link rel="prefetch" href="/assets/js/252.3f58bfa4.js"><link rel="prefetch" href="/assets/js/253.5623e75b.js"><link rel="prefetch" href="/assets/js/254.2f1a1bc8.js"><link rel="prefetch" href="/assets/js/255.fea91b4d.js"><link rel="prefetch" href="/assets/js/256.c4c8e156.js"><link rel="prefetch" href="/assets/js/257.31d016a7.js"><link rel="prefetch" href="/assets/js/258.cec0b239.js"><link rel="prefetch" href="/assets/js/259.61328dd2.js"><link rel="prefetch" href="/assets/js/26.823de7af.js"><link rel="prefetch" href="/assets/js/260.acb4619a.js"><link rel="prefetch" href="/assets/js/261.4eeae626.js"><link rel="prefetch" href="/assets/js/262.f7dbbd08.js"><link rel="prefetch" href="/assets/js/263.5c54eb81.js"><link rel="prefetch" href="/assets/js/264.751669e3.js"><link rel="prefetch" href="/assets/js/265.545aea2a.js"><link rel="prefetch" href="/assets/js/266.e588f376.js"><link rel="prefetch" href="/assets/js/267.65d67eff.js"><link rel="prefetch" href="/assets/js/268.9d7592ba.js"><link rel="prefetch" href="/assets/js/269.c44c063e.js"><link rel="prefetch" href="/assets/js/27.988d824e.js"><link rel="prefetch" href="/assets/js/270.1addc830.js"><link rel="prefetch" href="/assets/js/271.0d4b2272.js"><link rel="prefetch" href="/assets/js/272.8d3e01fc.js"><link rel="prefetch" href="/assets/js/273.fe83a7a4.js"><link rel="prefetch" href="/assets/js/274.c3f8880a.js"><link rel="prefetch" href="/assets/js/275.01d7762a.js"><link rel="prefetch" href="/assets/js/276.58095ef7.js"><link rel="prefetch" href="/assets/js/277.44657e6b.js"><link rel="prefetch" href="/assets/js/278.2331d394.js"><link rel="prefetch" href="/assets/js/279.81ad3829.js"><link rel="prefetch" href="/assets/js/28.95c94d01.js"><link rel="prefetch" href="/assets/js/280.a284b116.js"><link rel="prefetch" href="/assets/js/281.e1050af8.js"><link rel="prefetch" href="/assets/js/282.b486d445.js"><link rel="prefetch" href="/assets/js/283.e22170bd.js"><link rel="prefetch" href="/assets/js/284.3c8def33.js"><link rel="prefetch" href="/assets/js/285.1bc70cce.js"><link rel="prefetch" href="/assets/js/286.a31fe5c5.js"><link rel="prefetch" href="/assets/js/287.90b937ac.js"><link rel="prefetch" href="/assets/js/288.73647716.js"><link rel="prefetch" href="/assets/js/289.6a231446.js"><link rel="prefetch" href="/assets/js/29.53562974.js"><link rel="prefetch" href="/assets/js/290.3bbc1445.js"><link rel="prefetch" href="/assets/js/291.82092bf1.js"><link rel="prefetch" href="/assets/js/292.da50c68b.js"><link rel="prefetch" href="/assets/js/293.3bb527ee.js"><link rel="prefetch" href="/assets/js/294.ba612d56.js"><link rel="prefetch" href="/assets/js/295.18639d50.js"><link rel="prefetch" href="/assets/js/296.1d39ebf1.js"><link rel="prefetch" href="/assets/js/297.d327b395.js"><link rel="prefetch" href="/assets/js/298.2cd88ff7.js"><link rel="prefetch" href="/assets/js/299.9a585823.js"><link rel="prefetch" href="/assets/js/3.434820ad.js"><link rel="prefetch" href="/assets/js/30.65faad2e.js"><link rel="prefetch" href="/assets/js/300.9408a130.js"><link rel="prefetch" href="/assets/js/301.61243e7d.js"><link rel="prefetch" href="/assets/js/302.626e76e0.js"><link rel="prefetch" href="/assets/js/303.2ffb53aa.js"><link rel="prefetch" href="/assets/js/304.47a7cbc4.js"><link rel="prefetch" href="/assets/js/305.87d2dbcd.js"><link rel="prefetch" href="/assets/js/306.d010dd8a.js"><link rel="prefetch" href="/assets/js/307.52aa5991.js"><link rel="prefetch" href="/assets/js/308.c31fe4d2.js"><link rel="prefetch" href="/assets/js/309.30705de0.js"><link rel="prefetch" href="/assets/js/31.55e60aaa.js"><link rel="prefetch" href="/assets/js/310.2ea3101e.js"><link rel="prefetch" href="/assets/js/311.c8367c67.js"><link rel="prefetch" href="/assets/js/312.3437ad0d.js"><link rel="prefetch" href="/assets/js/313.650f3835.js"><link rel="prefetch" href="/assets/js/314.5a9617cf.js"><link rel="prefetch" href="/assets/js/315.6c7dee46.js"><link rel="prefetch" href="/assets/js/316.f4c868c1.js"><link rel="prefetch" href="/assets/js/317.dabc9003.js"><link rel="prefetch" href="/assets/js/318.94a3ede0.js"><link rel="prefetch" href="/assets/js/319.87c920f8.js"><link rel="prefetch" href="/assets/js/32.64ad9712.js"><link rel="prefetch" href="/assets/js/320.8757ca2c.js"><link rel="prefetch" href="/assets/js/321.6e2783d5.js"><link rel="prefetch" href="/assets/js/322.f8996296.js"><link rel="prefetch" href="/assets/js/323.302a6fef.js"><link rel="prefetch" href="/assets/js/324.d6fd3e0b.js"><link rel="prefetch" href="/assets/js/325.e0782dc3.js"><link rel="prefetch" href="/assets/js/326.60d0aab3.js"><link rel="prefetch" href="/assets/js/327.7f840ace.js"><link rel="prefetch" href="/assets/js/328.e2976e72.js"><link rel="prefetch" href="/assets/js/329.d8eacc74.js"><link rel="prefetch" href="/assets/js/33.3e5e84ce.js"><link rel="prefetch" href="/assets/js/330.f12e597e.js"><link rel="prefetch" href="/assets/js/331.bf741811.js"><link rel="prefetch" href="/assets/js/332.2a5e7914.js"><link rel="prefetch" href="/assets/js/333.5ef9eecd.js"><link rel="prefetch" href="/assets/js/334.124452eb.js"><link rel="prefetch" href="/assets/js/335.c80162a9.js"><link rel="prefetch" href="/assets/js/336.286ad2d8.js"><link rel="prefetch" href="/assets/js/337.c27fb6f2.js"><link rel="prefetch" href="/assets/js/338.73fbb9b7.js"><link rel="prefetch" href="/assets/js/339.dcdb4c9d.js"><link rel="prefetch" href="/assets/js/34.3a9de936.js"><link rel="prefetch" href="/assets/js/340.6e61aa11.js"><link rel="prefetch" href="/assets/js/341.2aca9f6f.js"><link rel="prefetch" href="/assets/js/342.1d1f8c28.js"><link rel="prefetch" href="/assets/js/343.f8d954e6.js"><link rel="prefetch" href="/assets/js/344.afcd59c9.js"><link rel="prefetch" href="/assets/js/345.ce25fe01.js"><link rel="prefetch" href="/assets/js/346.80ae36ff.js"><link rel="prefetch" href="/assets/js/347.bb07eed8.js"><link rel="prefetch" href="/assets/js/348.d17a0f1d.js"><link rel="prefetch" href="/assets/js/349.7ebf510a.js"><link rel="prefetch" href="/assets/js/35.06f788fc.js"><link rel="prefetch" href="/assets/js/350.68b134bf.js"><link rel="prefetch" href="/assets/js/351.09592f5d.js"><link rel="prefetch" href="/assets/js/352.1d08e41d.js"><link rel="prefetch" href="/assets/js/353.4cc57dd3.js"><link rel="prefetch" href="/assets/js/354.bf18a8e7.js"><link rel="prefetch" href="/assets/js/355.81b52c01.js"><link rel="prefetch" href="/assets/js/356.9ddd11b7.js"><link rel="prefetch" href="/assets/js/357.5083b1cb.js"><link rel="prefetch" href="/assets/js/358.b574bd41.js"><link rel="prefetch" href="/assets/js/359.aa0f66a0.js"><link rel="prefetch" href="/assets/js/36.619ee85c.js"><link rel="prefetch" href="/assets/js/360.e2f48183.js"><link rel="prefetch" href="/assets/js/361.79b1250b.js"><link rel="prefetch" href="/assets/js/362.238d5116.js"><link rel="prefetch" href="/assets/js/363.f9ed76f9.js"><link rel="prefetch" href="/assets/js/364.29ecc302.js"><link rel="prefetch" href="/assets/js/365.af5dfb84.js"><link rel="prefetch" href="/assets/js/366.803b9b34.js"><link rel="prefetch" href="/assets/js/367.cfb5cda4.js"><link rel="prefetch" href="/assets/js/368.371608df.js"><link rel="prefetch" href="/assets/js/369.236637e4.js"><link rel="prefetch" href="/assets/js/37.993e4753.js"><link rel="prefetch" href="/assets/js/370.a7736151.js"><link rel="prefetch" href="/assets/js/371.cea6669c.js"><link rel="prefetch" href="/assets/js/372.dd7b7cb8.js"><link rel="prefetch" href="/assets/js/373.b35db4ab.js"><link rel="prefetch" href="/assets/js/374.6d1a51a7.js"><link rel="prefetch" href="/assets/js/375.524a59d5.js"><link rel="prefetch" href="/assets/js/376.e61ff9c4.js"><link rel="prefetch" href="/assets/js/377.20f5524b.js"><link rel="prefetch" href="/assets/js/378.27f22518.js"><link rel="prefetch" href="/assets/js/379.2e302826.js"><link rel="prefetch" href="/assets/js/38.eed8aa34.js"><link rel="prefetch" href="/assets/js/380.cdcd87ce.js"><link rel="prefetch" href="/assets/js/381.24fb213f.js"><link rel="prefetch" href="/assets/js/382.101b4319.js"><link rel="prefetch" href="/assets/js/383.2a16e8b6.js"><link rel="prefetch" href="/assets/js/384.a20d693f.js"><link rel="prefetch" href="/assets/js/385.17e97477.js"><link rel="prefetch" href="/assets/js/386.6e239e8e.js"><link rel="prefetch" href="/assets/js/387.beb4354b.js"><link rel="prefetch" href="/assets/js/388.035fc37a.js"><link rel="prefetch" href="/assets/js/389.4017e30f.js"><link rel="prefetch" href="/assets/js/39.aab0b851.js"><link rel="prefetch" href="/assets/js/390.11b2f597.js"><link rel="prefetch" href="/assets/js/391.3b193822.js"><link rel="prefetch" href="/assets/js/392.25c1d9f6.js"><link rel="prefetch" href="/assets/js/393.931523ed.js"><link rel="prefetch" href="/assets/js/394.2ba9d35e.js"><link rel="prefetch" href="/assets/js/395.201269ae.js"><link rel="prefetch" href="/assets/js/396.73113431.js"><link rel="prefetch" href="/assets/js/397.d8059292.js"><link rel="prefetch" href="/assets/js/398.1727254c.js"><link rel="prefetch" href="/assets/js/399.343ad520.js"><link rel="prefetch" href="/assets/js/4.2580f809.js"><link rel="prefetch" href="/assets/js/40.4d7aaeb7.js"><link rel="prefetch" href="/assets/js/400.53388b6b.js"><link rel="prefetch" href="/assets/js/401.961883b0.js"><link rel="prefetch" href="/assets/js/402.d35c2c6f.js"><link rel="prefetch" href="/assets/js/403.b4e7f97b.js"><link rel="prefetch" href="/assets/js/404.e8c3790b.js"><link rel="prefetch" href="/assets/js/405.15e5c920.js"><link rel="prefetch" href="/assets/js/406.9d41b3c8.js"><link rel="prefetch" href="/assets/js/407.09d6db7d.js"><link rel="prefetch" href="/assets/js/408.4fc3ccd6.js"><link rel="prefetch" href="/assets/js/409.0a858daf.js"><link rel="prefetch" href="/assets/js/41.e0a60d57.js"><link rel="prefetch" href="/assets/js/410.0260ca3a.js"><link rel="prefetch" href="/assets/js/411.a15abcd5.js"><link rel="prefetch" href="/assets/js/412.24731dfb.js"><link rel="prefetch" href="/assets/js/413.f55fe0d7.js"><link rel="prefetch" href="/assets/js/414.c54e0627.js"><link rel="prefetch" href="/assets/js/415.cc651a30.js"><link rel="prefetch" href="/assets/js/416.486798f0.js"><link rel="prefetch" href="/assets/js/417.0d5a5b42.js"><link rel="prefetch" href="/assets/js/418.66e4498a.js"><link rel="prefetch" href="/assets/js/419.0b57a78f.js"><link rel="prefetch" href="/assets/js/42.0a7a5e68.js"><link rel="prefetch" href="/assets/js/420.500f2570.js"><link rel="prefetch" href="/assets/js/421.4b0d1a76.js"><link rel="prefetch" href="/assets/js/422.b0fc956e.js"><link rel="prefetch" href="/assets/js/423.14392a44.js"><link rel="prefetch" href="/assets/js/424.c4ba9afa.js"><link rel="prefetch" href="/assets/js/425.057f73ae.js"><link rel="prefetch" href="/assets/js/426.dffd3bb6.js"><link rel="prefetch" href="/assets/js/427.337b47c5.js"><link rel="prefetch" href="/assets/js/428.9f9b5f22.js"><link rel="prefetch" href="/assets/js/429.0ed4b794.js"><link rel="prefetch" href="/assets/js/43.84e3ad33.js"><link rel="prefetch" href="/assets/js/430.398efdef.js"><link rel="prefetch" href="/assets/js/431.9688dbc7.js"><link rel="prefetch" href="/assets/js/432.92bab9f6.js"><link rel="prefetch" href="/assets/js/433.fc4360d3.js"><link rel="prefetch" href="/assets/js/434.1068f226.js"><link rel="prefetch" href="/assets/js/435.64318382.js"><link rel="prefetch" href="/assets/js/436.992a5ea4.js"><link rel="prefetch" href="/assets/js/437.51e1f4e6.js"><link rel="prefetch" href="/assets/js/438.dc345e24.js"><link rel="prefetch" href="/assets/js/439.ca03ba3a.js"><link rel="prefetch" href="/assets/js/44.4c1cfe42.js"><link rel="prefetch" href="/assets/js/440.4c2e1760.js"><link rel="prefetch" href="/assets/js/441.dc889ecf.js"><link rel="prefetch" href="/assets/js/442.b629a091.js"><link rel="prefetch" href="/assets/js/443.93eadd08.js"><link rel="prefetch" href="/assets/js/444.69befc9e.js"><link rel="prefetch" href="/assets/js/445.6b18e387.js"><link rel="prefetch" href="/assets/js/446.dc4ef99c.js"><link rel="prefetch" href="/assets/js/447.349de474.js"><link rel="prefetch" href="/assets/js/448.22e2e6c7.js"><link rel="prefetch" href="/assets/js/449.b78455e5.js"><link rel="prefetch" href="/assets/js/450.3e256487.js"><link rel="prefetch" href="/assets/js/451.23525476.js"><link rel="prefetch" href="/assets/js/452.7383b385.js"><link rel="prefetch" href="/assets/js/453.1a7553c1.js"><link rel="prefetch" href="/assets/js/454.9bdee81b.js"><link rel="prefetch" href="/assets/js/455.e0eb6a97.js"><link rel="prefetch" href="/assets/js/456.820ffa9c.js"><link rel="prefetch" href="/assets/js/457.4639b3cd.js"><link rel="prefetch" href="/assets/js/458.7e4d9d2a.js"><link rel="prefetch" href="/assets/js/459.1b4becf2.js"><link rel="prefetch" href="/assets/js/46.5c7d982f.js"><link rel="prefetch" href="/assets/js/460.d6e052a2.js"><link rel="prefetch" href="/assets/js/461.ebb726a4.js"><link rel="prefetch" href="/assets/js/462.3c62f062.js"><link rel="prefetch" href="/assets/js/463.072730fc.js"><link rel="prefetch" href="/assets/js/464.05b6f3e9.js"><link rel="prefetch" href="/assets/js/465.5f1d1530.js"><link rel="prefetch" href="/assets/js/466.8a677003.js"><link rel="prefetch" href="/assets/js/467.2eb0a0ff.js"><link rel="prefetch" href="/assets/js/468.1e3bce7c.js"><link rel="prefetch" href="/assets/js/469.63b4c7dd.js"><link rel="prefetch" href="/assets/js/47.4349c0cc.js"><link rel="prefetch" href="/assets/js/470.aad91611.js"><link rel="prefetch" href="/assets/js/471.00283a40.js"><link rel="prefetch" href="/assets/js/472.8260893c.js"><link rel="prefetch" href="/assets/js/473.cce9db55.js"><link rel="prefetch" href="/assets/js/474.503f3087.js"><link rel="prefetch" href="/assets/js/475.ba2c46da.js"><link rel="prefetch" href="/assets/js/476.d1acddf7.js"><link rel="prefetch" href="/assets/js/477.b05b815e.js"><link rel="prefetch" href="/assets/js/478.f2b25b77.js"><link rel="prefetch" href="/assets/js/479.e0e4d348.js"><link rel="prefetch" href="/assets/js/48.64ebf972.js"><link rel="prefetch" href="/assets/js/480.e7267fa4.js"><link rel="prefetch" href="/assets/js/481.dd4125c5.js"><link rel="prefetch" href="/assets/js/482.ca49dd42.js"><link rel="prefetch" href="/assets/js/483.11b1e5e0.js"><link rel="prefetch" href="/assets/js/484.57f34a7f.js"><link rel="prefetch" href="/assets/js/485.46d9e9c6.js"><link rel="prefetch" href="/assets/js/486.69cee9b4.js"><link rel="prefetch" href="/assets/js/487.1956009f.js"><link rel="prefetch" href="/assets/js/49.8974c4f9.js"><link rel="prefetch" href="/assets/js/5.6a84a49e.js"><link rel="prefetch" href="/assets/js/50.5c084833.js"><link rel="prefetch" href="/assets/js/51.9b99bea9.js"><link rel="prefetch" href="/assets/js/52.3a585fc0.js"><link rel="prefetch" href="/assets/js/53.64b65dcb.js"><link rel="prefetch" href="/assets/js/54.01c85c4a.js"><link rel="prefetch" href="/assets/js/55.6d3cc522.js"><link rel="prefetch" href="/assets/js/56.9cd660c8.js"><link rel="prefetch" href="/assets/js/57.11e1801d.js"><link rel="prefetch" href="/assets/js/58.d9e5f847.js"><link rel="prefetch" href="/assets/js/59.a5e2472c.js"><link rel="prefetch" href="/assets/js/6.d4f8e32a.js"><link rel="prefetch" href="/assets/js/60.77db5315.js"><link rel="prefetch" href="/assets/js/61.da28c70d.js"><link rel="prefetch" href="/assets/js/62.405b03e1.js"><link rel="prefetch" href="/assets/js/64.69c64784.js"><link rel="prefetch" href="/assets/js/65.cee0c834.js"><link rel="prefetch" href="/assets/js/66.9fa85082.js"><link rel="prefetch" href="/assets/js/67.ebc9eb8d.js"><link rel="prefetch" href="/assets/js/68.8d7f5fd5.js"><link rel="prefetch" href="/assets/js/69.9b3498b1.js"><link rel="prefetch" href="/assets/js/7.83f99489.js"><link rel="prefetch" href="/assets/js/70.8c0a3b25.js"><link rel="prefetch" href="/assets/js/71.6d24abff.js"><link rel="prefetch" href="/assets/js/72.17f36f5a.js"><link rel="prefetch" href="/assets/js/73.ade71c5d.js"><link rel="prefetch" href="/assets/js/74.6d9312f1.js"><link rel="prefetch" href="/assets/js/75.f30ed904.js"><link rel="prefetch" href="/assets/js/76.84ef8356.js"><link rel="prefetch" href="/assets/js/77.4c58a88a.js"><link rel="prefetch" href="/assets/js/78.0ace38df.js"><link rel="prefetch" href="/assets/js/79.825c03e7.js"><link rel="prefetch" href="/assets/js/8.60f0b36d.js"><link rel="prefetch" href="/assets/js/80.63f7e2bb.js"><link rel="prefetch" href="/assets/js/81.62e051ed.js"><link rel="prefetch" href="/assets/js/82.26828682.js"><link rel="prefetch" href="/assets/js/83.be70428b.js"><link rel="prefetch" href="/assets/js/84.aa44143b.js"><link rel="prefetch" href="/assets/js/85.cc38e2a9.js"><link rel="prefetch" href="/assets/js/86.9a8beb01.js"><link rel="prefetch" href="/assets/js/87.a051754c.js"><link rel="prefetch" href="/assets/js/88.0fe5a9f8.js"><link rel="prefetch" href="/assets/js/89.c2d41d94.js"><link rel="prefetch" href="/assets/js/9.375ffec2.js"><link rel="prefetch" href="/assets/js/90.3bd7045a.js"><link rel="prefetch" href="/assets/js/91.dbfd3514.js"><link rel="prefetch" href="/assets/js/92.ee0349b9.js"><link rel="prefetch" href="/assets/js/93.3bbfbbd0.js"><link rel="prefetch" href="/assets/js/94.fb94c70b.js"><link rel="prefetch" href="/assets/js/95.59de5eae.js"><link rel="prefetch" href="/assets/js/96.ebb2c66f.js"><link rel="prefetch" href="/assets/js/97.660aef77.js"><link rel="prefetch" href="/assets/js/98.8d7946e1.js"><link rel="prefetch" href="/assets/js/99.f319da86.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5df48ca7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="房飞跃的博客" class="logo"> <span class="site-name can-hide">房飞跃的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/深入浅出Vue.js/01.html" class="nav-link">
  深入浅出Vue
</a></li><li class="dropdown-subitem"><a href="/front/vue/vue/01.html" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/front/vue/vue-router/01.html" class="nav-link">
  VueRouter
</a></li><li class="dropdown-subitem"><a href="/front/vue/Vuex/01.html" class="nav-link">
  Vuex
</a></li><li class="dropdown-subitem"><a href="/front/vue/vue3/01.html" class="nav-link">
  Vue3核心剖析
</a></li><li class="dropdown-subitem"><a href="/front/vue/Vue知识点简单梳理/01.html" class="nav-link">
  Vue知识点简单梳理
</a></li></ul></li><li class="dropdown-item"><h4>
          React
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/深入React技术栈/01.html" class="nav-link">
  深入React技术栈
</a></li><li class="dropdown-subitem"><a href="/front/react/React进阶实践指南/01.html" class="nav-link">
  React进阶实践指南
</a></li><li class="dropdown-subitem"><a href="/front/react/React知识点简单梳理/01.html" class="nav-link">
  React知识点简单梳理
</a></li></ul></li><li class="dropdown-item"><h4>
          混合开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/混合开发/01.html" class="nav-link">
  混合开发探究
</a></li></ul></li><li class="dropdown-item"><h4>
          TypeScript
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/ts/极简入门Typescript/01.html" class="nav-link">
  极简入门Typescript
</a></li></ul></li><li class="dropdown-item"><h4>
          Webpack
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/webpack/极简入门webpack/01.html" class="nav-link">
  极简入门
</a></li><li class="dropdown-subitem"><a href="/front/webpack/常见面试题/01.html" class="nav-link">
  常见面试题
</a></li></ul></li><li class="dropdown-item"><h4>
          设计模式
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/设计模式/JS设计模式核心原理和应用实践/01.html" class="nav-link">
  JS设计模式核心原理和应用实践
</a></li></ul></li><li class="dropdown-item"><h4>
          算法和数据结构
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/算法和数据结构/入门级算法/01.html" class="nav-link">
  入门级算法
</a></li><li class="dropdown-subitem"><a href="/front/算法和数据结构/常见算法/01.html" class="nav-link">
  常见算法
</a></li><li class="dropdown-subitem"><a href="/front/算法和数据结构/常见数据结构/01.html" class="nav-link">
  常见数据结构
</a></li><li class="dropdown-subitem"><a href="/front/算法和数据结构/前端算法与数据结构/01.html" class="nav-link">
  前端算法与数据结构
</a></li></ul></li><li class="dropdown-item"><h4>
          基础必备
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/base/html必备/01.html" class="nav-link">
  HTML必备
</a></li><li class="dropdown-subitem"><a href="/front/base/CSS必备/01.html" class="nav-link">
  CSS必备
</a></li><li class="dropdown-subitem"><a href="/front/base/JS基础/01.html" class="nav-link">
  JS基础
</a></li><li class="dropdown-subitem"><a href="/front/base/JS进阶/01.html" class="nav-link">
  JS进阶
</a></li><li class="dropdown-subitem"><a href="/front/base/JS练习/01.html" class="nav-link">
  JS练习
</a></li><li class="dropdown-subitem"><a href="/front/base/网络基础/01.html" class="nav-link">
  网络基础
</a></li><li class="dropdown-subitem"><a href="/books/JS高级程序设计/01.html" class="nav-link">
  JS高级程序设计
</a></li><li class="dropdown-subitem"><a href="/front/base/浏览器相关基础/01.html" class="nav-link">
  浏览器相关基础
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="电子" class="dropdown-title"><span class="title">电子</span> <span class="arrow down"></span></button> <button type="button" aria-label="电子" class="mobile-dropdown-title"><span class="title">电子</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          STM32
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/电子/STM32四轴飞行器/01.html" class="nav-link">
  STM32四轴飞行器
</a></li></ul></li><li class="dropdown-item"><h4>
          Arduino
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/电子/Arduino墙画机/01.html" class="nav-link">
  Arduino墙画机
</a></li><li class="dropdown-subitem"><a href="/电子/Arduino四轴飞行器/01.html" class="nav-link">
  Arduino四轴飞行器
</a></li><li class="dropdown-subitem"><a href="/电子/Arduino四足仿生机器人/01.html" class="nav-link">
  Arduino四足仿生机器人
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><span class="title">关于</span> <span class="arrow down"></span></button> <button type="button" aria-label="关于" class="mobile-dropdown-title"><span class="title">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/关于我/01.html" class="nav-link">
  关于我
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/fangfeiyue" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/深入浅出Vue.js/01.html" class="nav-link">
  深入浅出Vue
</a></li><li class="dropdown-subitem"><a href="/front/vue/vue/01.html" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/front/vue/vue-router/01.html" class="nav-link">
  VueRouter
</a></li><li class="dropdown-subitem"><a href="/front/vue/Vuex/01.html" class="nav-link">
  Vuex
</a></li><li class="dropdown-subitem"><a href="/front/vue/vue3/01.html" class="nav-link">
  Vue3核心剖析
</a></li><li class="dropdown-subitem"><a href="/front/vue/Vue知识点简单梳理/01.html" class="nav-link">
  Vue知识点简单梳理
</a></li></ul></li><li class="dropdown-item"><h4>
          React
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/深入React技术栈/01.html" class="nav-link">
  深入React技术栈
</a></li><li class="dropdown-subitem"><a href="/front/react/React进阶实践指南/01.html" class="nav-link">
  React进阶实践指南
</a></li><li class="dropdown-subitem"><a href="/front/react/React知识点简单梳理/01.html" class="nav-link">
  React知识点简单梳理
</a></li></ul></li><li class="dropdown-item"><h4>
          混合开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/混合开发/01.html" class="nav-link">
  混合开发探究
</a></li></ul></li><li class="dropdown-item"><h4>
          TypeScript
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/ts/极简入门Typescript/01.html" class="nav-link">
  极简入门Typescript
</a></li></ul></li><li class="dropdown-item"><h4>
          Webpack
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/webpack/极简入门webpack/01.html" class="nav-link">
  极简入门
</a></li><li class="dropdown-subitem"><a href="/front/webpack/常见面试题/01.html" class="nav-link">
  常见面试题
</a></li></ul></li><li class="dropdown-item"><h4>
          设计模式
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/设计模式/JS设计模式核心原理和应用实践/01.html" class="nav-link">
  JS设计模式核心原理和应用实践
</a></li></ul></li><li class="dropdown-item"><h4>
          算法和数据结构
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/算法和数据结构/入门级算法/01.html" class="nav-link">
  入门级算法
</a></li><li class="dropdown-subitem"><a href="/front/算法和数据结构/常见算法/01.html" class="nav-link">
  常见算法
</a></li><li class="dropdown-subitem"><a href="/front/算法和数据结构/常见数据结构/01.html" class="nav-link">
  常见数据结构
</a></li><li class="dropdown-subitem"><a href="/front/算法和数据结构/前端算法与数据结构/01.html" class="nav-link">
  前端算法与数据结构
</a></li></ul></li><li class="dropdown-item"><h4>
          基础必备
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/base/html必备/01.html" class="nav-link">
  HTML必备
</a></li><li class="dropdown-subitem"><a href="/front/base/CSS必备/01.html" class="nav-link">
  CSS必备
</a></li><li class="dropdown-subitem"><a href="/front/base/JS基础/01.html" class="nav-link">
  JS基础
</a></li><li class="dropdown-subitem"><a href="/front/base/JS进阶/01.html" class="nav-link">
  JS进阶
</a></li><li class="dropdown-subitem"><a href="/front/base/JS练习/01.html" class="nav-link">
  JS练习
</a></li><li class="dropdown-subitem"><a href="/front/base/网络基础/01.html" class="nav-link">
  网络基础
</a></li><li class="dropdown-subitem"><a href="/books/JS高级程序设计/01.html" class="nav-link">
  JS高级程序设计
</a></li><li class="dropdown-subitem"><a href="/front/base/浏览器相关基础/01.html" class="nav-link">
  浏览器相关基础
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="电子" class="dropdown-title"><span class="title">电子</span> <span class="arrow down"></span></button> <button type="button" aria-label="电子" class="mobile-dropdown-title"><span class="title">电子</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          STM32
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/电子/STM32四轴飞行器/01.html" class="nav-link">
  STM32四轴飞行器
</a></li></ul></li><li class="dropdown-item"><h4>
          Arduino
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/电子/Arduino墙画机/01.html" class="nav-link">
  Arduino墙画机
</a></li><li class="dropdown-subitem"><a href="/电子/Arduino四轴飞行器/01.html" class="nav-link">
  Arduino四轴飞行器
</a></li><li class="dropdown-subitem"><a href="/电子/Arduino四足仿生机器人/01.html" class="nav-link">
  Arduino四足仿生机器人
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><span class="title">关于</span> <span class="arrow down"></span></button> <button type="button" aria-label="关于" class="mobile-dropdown-title"><span class="title">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/关于我/01.html" class="nav-link">
  关于我
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/fangfeiyue" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>深入浅出VUE.JS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/books/深入浅出Vue.js/01.html" class="sidebar-link">Vue.js简介</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/01.html#什么是vue-js" class="sidebar-link">什么是Vue.js</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/01.html#vue-js简史" class="sidebar-link">Vue.js简史</a></li></ul></li><li><a href="/books/深入浅出Vue.js/02.html" class="sidebar-link">Object的变化侦测</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/02.html#什么是变化侦测" class="sidebar-link">什么是变化侦测</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/02.html#如何追踪变化" class="sidebar-link">如何追踪变化</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/02.html#如何收集依赖" class="sidebar-link">如何收集依赖</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/02.html#依赖收集在哪里" class="sidebar-link">依赖收集在哪里</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/02.html#依赖是谁" class="sidebar-link">依赖是谁</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/02.html#什么是watcher" class="sidebar-link">什么是Watcher</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/02.html#递归侦测所有key" class="sidebar-link">递归侦测所有key</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/02.html#关于object的问题" class="sidebar-link">关于Object的问题</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/02.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/books/深入浅出Vue.js/03.html" class="sidebar-link">Array的变化侦测</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/03.html#如何追踪变化" class="sidebar-link">如何追踪变化</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/03.html#拦截器" class="sidebar-link">拦截器</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/03.html#使用拦截器覆盖array原型" class="sidebar-link">使用拦截器覆盖Array原型</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/03.html#将拦截器方法挂载到数组的属性上" class="sidebar-link">将拦截器方法挂载到数组的属性上</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/03.html#如何收集依赖" class="sidebar-link">如何收集依赖</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/03.html#依赖列表存在哪儿" class="sidebar-link">依赖列表存在哪儿</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/03.html#收集依赖" class="sidebar-link">收集依赖</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/03.html#在拦截器中获取observer实例" class="sidebar-link">在拦截器中获取Observer实例</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/03.html#向数组的依赖发送通知" class="sidebar-link">向数组的依赖发送通知</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/03.html#侦测数组中元素的变化" class="sidebar-link">侦测数组中元素的变化</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/03.html#侦测新增元素的变化" class="sidebar-link">侦测新增元素的变化</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/03.html#关于array的问题" class="sidebar-link">关于Array的问题</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/03.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/books/深入浅出Vue.js/04.html" class="sidebar-link">变化侦测相关的API实现原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/04.html#vm-watch" class="sidebar-link">vm.$watch</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/04.html#vm-set" class="sidebar-link">vm.$set</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/04.html#vm-delete" class="sidebar-link">vm.$delete</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/04.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/books/深入浅出Vue.js/05.html" class="sidebar-link">虚拟DOM简介</a></li><li><a href="/books/深入浅出Vue.js/06.html" class="sidebar-link">VNode</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/06.html#什么是vnode" class="sidebar-link">什么是VNode</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/06.html#vnode的作用" class="sidebar-link">VNode的作用</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/06.html#vnode的类型" class="sidebar-link">VNode的类型</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/06.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/books/深入浅出Vue.js/07.html" class="sidebar-link">patch</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/07.html#patch介绍" class="sidebar-link">patch介绍</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/07.html#创建节点" class="sidebar-link">创建节点</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/07.html#删除节点-2" class="sidebar-link">删除节点</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/07.html#更新节点-2" class="sidebar-link">更新节点</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/07.html#更新子节点" class="sidebar-link">更新子节点</a></li></ul></li><li><a href="/books/深入浅出Vue.js/08.html" class="sidebar-link">模板编译</a></li><li><a href="/books/深入浅出Vue.js/09.html" class="sidebar-link">解析器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/09.html#解析器的作用" class="sidebar-link">解析器的作用</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/09.html#文本解析器" class="sidebar-link">文本解析器</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/09.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/books/深入浅出Vue.js/10.html" class="sidebar-link">优化器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/10.html#找出所有静态节点并标记" class="sidebar-link">找出所有静态节点并标记</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/10.html#找出所有静态根节点并标记" class="sidebar-link">找出所有静态根节点并标记</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/10.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/books/深入浅出Vue.js/11.html" class="sidebar-link">代码生成器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/11.html#通过ast生成代码字符串" class="sidebar-link">通过AST生成代码字符串</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/11.html#代码生成器的原理" class="sidebar-link">代码生成器的原理</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/11.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/books/深入浅出Vue.js/13.html" class="sidebar-link">实例方法和全局API的实现</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/13.html#数据相关的实例方法" class="sidebar-link">数据相关的实例方法</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/13.html#事件相关的实例方法" class="sidebar-link">事件相关的实例方法</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/13.html#生命周期相关的实例方法" class="sidebar-link">生命周期相关的实例方法</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/13.html#全局api的实现原理" class="sidebar-link">全局API的实现原理</a></li></ul></li><li><a href="/books/深入浅出Vue.js/14.html" class="sidebar-link">生命周期</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/14.html#初始化inject" class="sidebar-link">初始化inject</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/14.html#初始化状态" class="sidebar-link">初始化状态</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/14.html#errorcaptured与错误处理" class="sidebar-link">errorCaptured与错误处理</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/14.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/books/深入浅出Vue.js/15.html" class="active sidebar-link">指令的奥秘</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/15.html#自定义指令的内部原理" class="sidebar-link">自定义指令的内部原理</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/15.html#虚拟dom钩子函数" class="sidebar-link">虚拟DOM钩子函数</a></li></ul></li><li><a href="/books/深入浅出Vue.js/16.html" class="sidebar-link">过滤器的奥秘</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/16.html#过滤器的原理" class="sidebar-link">过滤器的原理</a></li></ul></li><li><a href="/books/深入浅出Vue.js/17.html" class="sidebar-link">最佳实践</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/17.html#为列表渲染设置属性key" class="sidebar-link">为列表渲染设置属性key</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/17.html#在v-if-v-if-else-v-else中使用key" class="sidebar-link">在v-if/v-if-else/v-else中使用key</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/17.html#路由切换组件不变" class="sidebar-link">路由切换组件不变</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/17.html#区分vuex与props的使用边界" class="sidebar-link">区分Vuex与props的使用边界</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/17.html#避免v-if和v-for一起使用" class="sidebar-link">避免v-if和v-for一起使用</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/17.html#为组件样式设置作用域" class="sidebar-link">为组件样式设置作用域</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/17.html#避免在scoped中使用元素选择器" class="sidebar-link">避免在scoped中使用元素选择器</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/17.html#单文件组件如何命名" class="sidebar-link">单文件组件如何命名</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/17.html#指令缩写" class="sidebar-link">指令缩写</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/17.html#简单的计算属性" class="sidebar-link">简单的计算属性</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/17.html#模板中简单的表达式" class="sidebar-link">模板中简单的表达式</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/17.html#多个特性的元素应该分多行撰写-每个特性一行。" class="sidebar-link">多个特性的元素应该分多行撰写，每个特性一行。</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/17.html#prop名的大小写" class="sidebar-link">prop名的大小写</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/17.html#自闭合组件" class="sidebar-link">自闭合组件</a></li><li class="sidebar-sub-header"><a href="/books/深入浅出Vue.js/17.html#js-jsx中的组件名大小写" class="sidebar-link">JS/JSX中的组件名大小写</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>指令的职责是，当表达式的值改变时，将其产生的连带影响响应式地作用于DOM。</p> <p>在模板解析阶段将节点上的指令解析出来并添加到AST的directives属性中，directives数据会传递到VNode中，我们就可以通过vnode.data.directives获取一个节点所绑定的指令。当虚拟DOM进行修补时，会根据节点的对比结果触发一些钩子函数。更新指令的程序会监听create、update和destroy钩子函数，并在这三个钩子函数触发时对VNode和oldVNode进行对比，最终根据对比结果触发指令的钩子函数。（使用自定义指令时，可以监听5种钩子函数：bind、inserted、update、componentUpdated与unbind。）指令的钩子函数被触发后，就说明指令生效了。
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAvUAAAFHCAMAAAAWdkNcAAAA/FBMVEX///8AAAAiIiINDQ3Hx8fY2Njs7OxWVlZcXFzu7u7Q0NCrq6sFBQWUlJTk5OTLy8sUFBT9/f3w8PDq6uqVlZXNzc3n5+ff39+pqan19fWurq6ioqKmpqYXFxcrKysRERGlpaX5+fn7+/tNTU0cHBxAQEAwMDC0tLS4uLjT09OampptbW3FxcWxsbGenp4YGBjd3d02Njb39/fa2tqOjo5ycnLy8vJFRUV+fn4mJiY6OjogICB5eXlZWVlnZ2eQkJAzMzNjY2NRUVFqampKSkq+vr6Li4vh4eF1dXWIiIiFhYWCgoK6urpHR0c9PT1gYGDCwsK8vLzJycnAwMAWUI2WAAAjFElEQVR42uzW20oCURiG4W9ZWdZkTlk5baZs2kFlMKKlIWWZhoRU938xQScd6UEH61/S+9zAzwcviyUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAID/Iy+W7BTbMpGYjk5kom06Olcw4o/+ecFSmu1vyrP8ZjktWEp7F3V5VmoMOgVL5/3rWEFIWu7svrpupzrsRZOmvCr2XDY2HT3OXK8kr5rdaGVoOvp+4t6CeO/rreigLmPbT2lZHrWzymcsW/H7UZbIo1HaXZWx/Ni1TmTv0q3J3u7tlc8Kq+5L9q5dQ/7EL6cj2au5V5mLnwexAtCIyvIm6bQUgqs0lzdl11AA4rtlmSueVhWCpehS08z3sRkuoqamme9jMzw+lGRtd2FPIdipHMibxcj8g/tjI9qQN/uHWwpB7aisv6B6qqd6qqd6qqd6qqd6qqd6qqd6qrdTq1A91c9C9b+onuqpnuqpnuqpnuqpnuqpnuqp/pu9O21KHAnAOP4kSLiDnXDFIxhyQAhHuI9wiiCgIOr3/y6bRGbd2d3ZnXHGKU3l/6JbLakyVT/bTgjoq/+xfPWv+ep99b56X/0vVc9POfALthLEa5EM79SEXaElQCrr+LpkR7qK+up99Z9UfVmJgA0EU1bU4R66kW96F2t64OQ+LEvrEOgYvu6+Ll2JFV+9r/5Tqhe0BMDXo1hZJiDU+vFpOckG7Z5Pg7C7EgtoalUcK+hJp9TlMmosok1fva/+E6ov1jMAo6SBC5drbAe7TQVID7oAyDgwnz8E1Lk9pgAwtCLaKRQtauKe9dV7UT3Z/E1upsPArfuUaH1+9bz44IxW+Tm3clUvNgA4ugScDwkAPdDp99f5UL/fH10A4JUqn8nwJ6cnGZ7hC756L6pPU53yhXQeCo9DobCjvBVgQR43i2tR2S0/vXqyoNaHyY1GnYrqw6gECFqV4wirtIC7MAASGgMoaEUc45Uk8LInyl75+3pPqicPu7uhJiSveupVLfAEIKvwgNq4qz2zHtjhnCt747GTKs6mEQKnEjUQG+xBLAAPW4CU47q7+T97Vb8pFksRznrEpkd89V5UX7N4SS0CpFGCRAeRXo0C/XZQrnlkX98p9R8AV7hbU6XOk1a2HBiNRvndipfkCwB/PZtlFK03pCpEPSeznL/We1G9tMvvZpS6jqxVvlWt83gM76jxQ9Iz6jms57DbXMOtqtCHpmjerzudzmgR0MGR6Y0s3wRmsj0e3LW+QjJ0Esa6aDG+ei+qx7N4L69qu4s9G5SHUwLgigoCN6HENJWaloXPrh5H9ZWj4GhRfeyKQbhx7gf30+l0dTlP2JPzaeZSB09HkRtoCf9ZKm+qj6oFo6TvIrrJbzKwK/SofQbyLByu18OTrlfUC1oJIBIgDW31ybOcXSkzyMLu67PZqJIBb2XBBIZdX71H1V/eKI1hjxj953qLF4CThnV3zasxoLP2wA7ni3rcXRNwD7cQhsumdgjd2Bm3Axfw12eztUaEzdECYtQEhXLWV+9F9VpJ3pZvTMWi46KYgxRqD9jOcvYIGB0vqc/QVdzSPIR9qFMPHh8nSnhJel3rw6O0RpdxEVjXk01r6av/9eo5kwDdFkGGhVswg2OF7u9Qn3Z3OLIxyVaVtMmhpupKRrpVWl5Tj1i91A4RCLNQJx8ECly3FZYJlim78jQwL6fsiggGKiTLmot8DtvBVuR+VD1hCyikmYKEb3ebxp8104L7JR1/KRP1tPrSrgAcVAF3R2K7FBDJRisxoxESfoP6p9P5oHe9uzelCs02m+jcs3UWy0HXM+o7Ybx0ZeWXQHOt44oBGFVUZidA4sZJDsnu3EctVABIuJcECluljB9Vzw6SiAyWsTAHoHByv3y81x/vtnarKI4V869gqy+/WPMF/tJFw9Pqi3usGoN4Y3iaH6osgF4CCNHasLeoRaXfoL4k1vZGv7eYaTQligZhiGmr74/Ju6q/H1XgdttXG6FcF8279XrUH63X6+dfrT6axLFMFnYEbsTUzS7+mRCBHd+EE0N+WH1bE8CJJeZaZgAhLFKW1j9bGJPJPF4FzNXd3d12TY239rx5BgpywDDmK/60YX+PwQLJ9mazCl1u7LEmeFK9FMkNeT2dEg/ReSj6JEjs7fCOFbQy3yW/61mqBRYlvRcMBmPKSZAlQKueEegqvqVeuGB/Wn1zRoUI7IK0ZXR2VFgQdo2GRgUajVnuI76qhM8x36m+O6i5dz2Ak0sAEYJ0lBPc/asgVoAiNZ/YGQtnrK+B2Omqoaxybbqtnm6mPLDJj0ajm1N7GNcZT6qPalZcrDHLfitbS7GAaX8eUKr70m87myWhFCbVJ1UC0jQHwFHPJ8TuN9WjXW+zP6m+Et8HsgDIfMACpEzlIAhClurbo/QR1RcmYi3yXeprSgSAmkOh9ZR2/5gTAPM+YFomUNTw2qKDVqAGXTHZQBEtWofdJgTgbAhAp72pXmiNGkEmPAzJ8rUsspDMZL1vcsN5OTGdJoq/QX1kaGI9HqwJ8KQwL+pPWcM9FsPAv8VYlNVmf0p9R6xQCQACvYBds1eGHU9tP+wrCINxSqtF/l+9HlAFfZkbNG402goToNMH0BzGgIMoOOqb05fV3hg1F2tk2+RpdcLxtQKk2q2rXqxWq4Z1Vq1uPbrWA3L9Fr12NJ1OF+ksgAOlchg2qN14rMm/Y603C4iwQcHRXGrCSUhK0sv2I/itf8tDUdaKfbt6PnBHGvsCIPWUgwRAED66ehgU5bj/H/WcGt9VFLFnDculIMsBXe0hkWIZOg2UewC6t+TCPrXdrGQq1OV5AAW5Azd+2IJdaT4ehxuBsT2Out5UHwwEwk15GLYP0fEPdKjGRGgUr0tAf/E29Tm8c12ROrpPvk19jIpiSqUBHPKUaMSCwM+qj+KdMwPU0f3Vf6hv97b75i1DRnO8dEXtJ/Fl9rJimhPZFHCMWannTbiV4sGTC7tcIrDNZb6I9vQ1nP613Lmz13q7kpUF9OtZYl7eL9sGyLD2NvXb9DsX7VBu1vTsTdqIrBIEqb6LaXp9SVEPzM+qP0+/dzLlpl1M699WX8meu15re7hFGtQVestDfiCK9frpM46N5S++W8ppZtW76fV6w3ijp4Ofh+xmgZDTlSfVP6nnu+xm0bvei9dyLwNpnJBTGV2MJgeR6Kn5JvUK9e7FqWPWm9QHKSscHlOiADf+xKA65OfUU+9e/PWgLR7fruyqjyovItPz6zLUksA6mVoJwcelk7Y+ONMTMsMGnSURE4TcWmkCmIH2WezMsGKx2Nne8KT6SflRJQWOZ0bzCB+RUBGZ3RRZxSzI2/CcvHGt16Pvm76m3OhE9U3qp9TETqYeoS90OI3rwk+u9VfRd04PUW6zq2n9/9ULWhVOkvCQstUTN2n/iJXoFr/UnGmMx3DUyuIwCAKsFQVgKuafOxzDm+pPuJLKhBqNfeBUbTRm7O09elMcaAbJgGLig+7rBc013+bftp8WxGv3B40voB+dhwfNj76vz+Zd8zUOV5f/rx79MIBHHgiX0cuFNTtVVw8QIk6M2uacmUNTMJUsyHbGf1Gfv3h6euoP7CEpe1M9UFSbelI36MFDOp0UAEf9RiZYUpb5Ud8joeaYn/JvvYZzoHKwI+M8I43jFxnptkz1yUe/htM5mgfOv0d9q/6E5vAeeOi3GkW9YpdkZ2kc25XxpZatHpJ8d1Sf2amq2hvEVbthwrPqCQqp+kEXRwyceglJq+Es0F7QlY+pnhsczb9NPTHyDJxitn42TJ0O8vHOh79y2YpTs3MO+F71aM8YVjSBSV6jHuGWtv5k2kt9rR48j4ySBkCErl1Z45xJ8qj66lBIzWaPQEtWthEAw1Sp3jIuzyGt47UPqT6hOObfrv6WhVvTZACSrLVzLbgVTOajqi8YmmP+e9RrcGtOtN2YAOEtGzoAzfPUWgkTODFn5/EYvhTMO+qFcrlTf1VcE7185RLJvnCX68JOihkMgG2pVRX6Lqbi/UdU38xlPtc9l78iJscB36W+usBLUs1oOagz6EoAmYYXZQ5ubOi6z+BLbIcH0B09TIr4s/sO8bL6f/Th3/uMfLY7jX/RQX+n+oKEXxAhnl7rnT6X+k93f/2f+e/k7ear99X76n31vnpfva/eV++r99X76n31vnpf/Y/lq3/NV++r99X76n31vnpf/R/s3Gtv0mAYh/F/waKDgitMt8pACmWl84BiIoEoMs9HPH3/7yJzp+zNosG0tff1e9Hn9Z1cudMnaUr1VE/1VE/1VE/1f47qqZ7qqZ7q/6Pq71I91V+F6i9QPdVTPdVTPdVTPdVTPdVTPdVTPdX/Haq/QPVUT/VUT/VUT/VUT/VUT/VUT/VU/+eonuqpnuqpnuqpnuqp/v+ovqerUT3V/yutaEd54HojpSbxPisPRp6r1MTeE+VBPaooa/7gpa8caHsNpSYoPVMevJ9NlJp33r5yoJ+L4B44I2WvVVr4Ss8Lz1X2Eq+u9PhHs+yXrBQ7sbLXPyrHfWXMHUbvlKLmcPZDWbtWGj5VinbH08zfcfqxt8jBqpe2Fs50Z6+WofaRd1BVqt4NnOsPsxx67/C6M2goVbcOvEW7tpE7mw1dnzqvmsoFP34elbN0d3rYVMrC/UGnnKXOYC9UyrZ2hnfLm3Acr7yJ6PkoF5v+RLOSpa1QGfCzHbrpKwPhVmUTh9tJZRM52fPAX9jfvi3All4O/uAEXInqAaoHqB6geoDqAaqHQVQPe6ge9lA97KF62EP1sIfqYQ/Vwx6qhz1UD3uoHvZQPeyhethD9bCH6mEP1cMeqoc9VA97qB72UD3soXrYQ/Wwh+phD9XDHqqHPVQPe6ge9lA97KF62EP1sIfqYQ/Vwx6qhz1UD3uoHvZcVN/3NakGuiy577t9AYVyXn31a1O7UaLLPr4OXj8LBBTJefVvh1Kj4+qUH/72YRruzmuhgAI5qz78Mojjh+V6vPZE0qPVaj6fr6LyatjtLnwBxXFW/S1vuVx2ndnxsy0p8Q5ra/eivdqDO5+pHkVyWr3//EYQBG7nZrDWl5SMW1p70w1VaQkokpPq/ZqXSNodJzqVdNynzcBPxg29fyWgSE6qv729o+Nj7OqU60SlaNlqjJNgNhJQJCfVh28mcbvXe1H+0Ov19luSku2fTx5ErcnB97j7VECRnN1mJ6+Gw+ncezxdH66k+6WmqrOmjhbzuoBCOate/bVH41vHhy+ptuzr20Go2Fmx6lEw59Xr8m3203Vf7aE0ctoKqnyU8Iude+9JG4rDOP4cUW52yKEKFBQGUrkUy11BYAzwxlDc9P2/l9GCGrds2bIEmOf5/EEpTSCEL7+cAIXekzfVh16qz15+yD90m3gKp0Yy1qmC6P1YVC9DVcdTOh9ztl7spIuNwWnE9jRD3UH8cx1E78eiemNUcRx5jtxtE61RFqhfdj8C21tiH0TvyHLWR29cIfcyFsBBA0DmNIq50Df+6JLeFZ5VQuph9aQeVk/qYfWkHlZP6mH1pB5WT+ph9aQeVk/qYfWkHlZP6mH1pB5WT+ph9aQeVk/qYfWkHlZP6mH1pB5WT+ph9aQeVk/qYfWkHlZP6mH1pB5WT+ph9aQeVk/qYfWkHlZP6mH1pB5WT+ph9aQeVk/qYfWkHlZP6mH1pJJMsP5SfWwHRAqQ+2Y+g8OwjtCXkwaIVODtivuCXdm7zok2iNRQEkLktLAQ4RiI1OBNCRdHPSmkJOY46kkpgRRHPSmnxFFPygmkOOpJOSWOelJOICWmIFJLqfJ+focTtS3/Og2vi1i56odP/nUa78ewcsHJ0P8vjsP+f2LZOjbEx4pn5luny5xonWGlZNMTPvet03na05RYqUhL5I59/6Lv9/2TmZY7xEYoiVZMYp1kJKn1DayQ7Ilrfc1POjoRbYkVOvNpHyNrftJVS9jYAEUxlVi7KzHAChVEEutniwJWqCm+Yu1kWyti/cYnBjZAuxLAymTN/ga80yF9ZhYr4w1/wQYwUhbW7qwzwSY4EGWsTFVLYBPEtRuszJUIYhNMO+sfszfpXWyCUDqOlXnUDrAJHrU9rEwyHMUmONyAsxBjns0Ye9HwIVZmW9uMsbe30uqPNuNTw3ia1bP632H1r1g9q2f1rJ7Vs3pWz+pZPatn9aye1bP6v8PqX7F6Vs/qWT2rZ/WsntWzelbP6lk9q2f1f47Vs3pWz+r/++qzhoQrY8yvz2XwzIjeRN09Wa/L5U3Old9b3imrZ/WbW33IbMJxNrLw0byo1WbDvMRcxq4JIcx4Fgidm49wlM3jG/xCRMeLJ7PB6ln95lafmVUimPsmBpiI8bQ97IheFshYwrTzpZqzUxXiFo6W0HbwCy1T4tmpCLJ6Vv+2+oNvcOm7GbgiWeiDAIohLFwdAF+LcEgsyfJrOzt3EkAw/3rw1XKJ8awOQHoz9WQgq8Mbr/9YPUri2yLoBiaiuvhDgwKwK3oGgIBfXKGqdTsR50inm36tvv6ynIFj/BkO9wFPtR0YrJ7V47X6jDn6+jUK4LEbWa4yqvjmCeBLJwhXfwL4mkCg4P+ABTnRZjEsWZ8ASH8LS9Xje9flaLQPx1XtwnV+8SkLSCtp5G7sFp5yxk/Vh7SWE3RuJDERbtOB3LmsX3QCy5fJh6poe+4A3KUtz6L6Yi/Yq/kKEjD2z09Gh9ns9ZZn2EDotlZre+fVF25rvlNWz+pfqs97fMfCSaLYycCR2DJQmmVQb1e24XhoAn7LHtYupkW4ZDu810vtwGXkata4EAnbN3O6BLyJ+K4j4RdJOKKFuburxEyzMXfg86YOjhuwa1Fd98o31Ut/JQLciTieq4elRUKijQXfUSYmDu/HAMaXpeUKJy+6vsGlSED2xGTXEnGZPAlPQ/pJrnmt9WVe6/o/3IuvrJ7VL6uPpRKIX0rsWyPP0HLqt26BTz3MTfYBWYjP+ruhYfihtJfBXdDt/LYSRLadW3SUyE0mX/ZsbWtrqxO+zOCF3Y1jThrS3eTvH6owstAPp/bR9TRRb2upTvci8KZ6JMQd0PLor9VPRGNbfMRCT4RiIl8KBxA5SiaX1d+JYRb1445hmPsATP9ihTN1DtuiURC3gB7usXpWv6x+LKzb8Ode0ez3KtfnY+AsN2u1KhetOcvqGZnhLJ0zy/4BHG5Vj7PPe6deYODp6YDx2Smymj70RkPRkvlS/c7opAyH4Qs2vEB7K5F9CvWD2OmPhJgNh9H7yZ7d3c68rT5wZCGSG+O1+qZolMUuFm41b0ychkQBBe3GXlZfEE9w+i6ibkSLyaNF9fVaH4BRjuRFGfO9Iatn9cvqg0fXftPunB7nYzUMxoA+afd82m3P1TYgpf9aop2aTqdfxtoBvFPtk15/uIgbKJud3Wy8Mxg0S8MxrnRg9/y5eqPzsKzrbGu7aerol3CYaqTKAKatnBk3brQE7s5/+paq9Z29O2FO1QrAMPwdCaCGaI4YFdNiWERAcN/3uGXfbv7/fymgJmlv27m31mkz4Z1JwGgyceYZ5hzUw6n0Ql4+qF8wsQRpIYhqEVojxyhOMCnC3qkXrOCI76BUPB0+VjfquULvwzkcafAUqg/Vb9Ursuq2MXY1t1lXWgsEtTR8KLoGMq2yV9uluI248Hoe5ABpWuzUkrfCw12S4/Qk8Mub+oYex1a97KjlbiN68ao7iqeeK2tZ2dXSFdJGJUr/qP6ZrEZ65109V+Ah9QcK/JpCG776k2qzWnlXT44AHAtZS7h0ROWBD9Sn9DYApSm5ghWqD9V/VC9FFkvjOlLS3FqdThcbsfIsMD5KwO+ylzelRM0rK1IkREn0SjWb3jdIFKDGM3zwMRUXD6p6vm553TJlf7O2fPWQ8vnTxfFrsP/yFEtpYuPqsVdUeiP8Ub0k8/odAvVZX+2I3AM2mVIAUlRgA/U1Jnpa+6DeBrAYqhXSBMTTKDCZgfKGArikZobqQ/V/VH8XHUzl0jK9kpujjfoSKdysb1oTcgVQ8XXA1J0WMzOM2dCQAHUs+xmy0S82gJTpDm9NFtrFXR7nS1Vpz714TSjy3lZbBdKR6/d/5WvBvpKSehVJknLcsqTlv1PvaSdnm2375mZUJD0KSHMSPV/ZXZKGpz4HVSMaRZrsZrOFc7ZFKnglo6apCV0RPcGVHFK2zCpPNyOcWTRU/y+pT3WAT65eVvL+CGfR10lfvgGCiV89B+ByQQHOGDJtCb0JvMy+BFAreXaWTCbPSswdBZrFuiDXK1a9sZqjoqnY1NGd3Z78LVbun12mp8OXhqc+3i2SSLc4AuyiIX6vnp1FFXhVDLnfl/kShVfsTidEGLgArgwT+MXIA7l6bTuuv5OZ01sF6k2B6f+S03tIGkMLJaNQnYhY1VmgEQ3P4fxb6k+eKOjq2K8kAYnV/f39y8u930tS/QzqU8Ob6OBENqXUKpKtSQE3RnxhXDrVfVOqI0ZbwF3XLJXMniy9v0SbepgEOqlk3FOJv7NaQrwyp9iUeldvtAwtgaiNc8Y2HKSO+PHRt24P4E4X+F496HYThF2x+BGrbO/YPmh3r0niqXgGfol4DMikAImjQKOZeXsYpaH6f0l9M5KFakQei4+GkAVOhG6xW3zs+sn1zmdQn9XLD3J7eA8k5cyyCYAVbCCvj4dnH2azt4UHL2Or/ubBlGqPTx0EScYLLGbQ7U2u0+M/U3+Xbli5ag4o5T31SFRLWMlZIFHg1Z36fTJJ8iDvNKYrV4Efe5GRcvcUXrXjGH6fkre+lHprHBWKvdisRDOqVc0CrTGAnh28Q9ac7a3eSuGQBeqPBvilDN4E4rIyWQPcwKf4bUj6r+q7+t4CXvdb9WxPr/fLO+AN41m6iosUYnx9iT8Z4SSB/MOoA4DKvvregGdcQB3zM/uP6tV443+jHqPNH6ZR4SpLyGvw698tiRzTW19K/dV0WuHrnZnJza7YnfoSU+TH3fT+6q3LaAOHLFA/HeO8jLnLZSvCpbyk4kM3pjhPzPXZHbPMxwBK52vgblDxKm/VA+JJtego2/1IdNACqApF6+3GIJnCm/r+ZO1Pjtc3N+u7UweQVvXIrOim2kYsWcjRj+rps9aj+NnEVeow6uPkBl4JJoomIYMUgIvv1UemX0q930MFhinq2a165fw0Yl65hdd91VtlgTzjoAXq5+e4mKz1VVfuXp+X+lxyKSpjJuozZEdV+QqjJWMCvULUazCUsCvR3rl29Hk+BWQ1rc5s+DpLzRiKO/X6cjHZ9kQc3M/kFtexJyO5CbiM866ePo+JkMWh+nn1jUej4QMlJU/9hKzf1FsXbmLjxjzj+lPf/nO++WXUpwcS9dQPt+qfavVVrpju5rCfemshEMKrOGiB+mYKYnPlqFZg4VuHdkDNODZl7hs4Oj5SgVcTXrWKgvcsCUFKZrMxXZdFkJj75ZjFNsVOYJeaziLx0oFfM/hxnAvUb8zvcc3ug6jHCfkG0HGV89SbI4HdqJeuBbn6aw5Qb4XqaVSfAqtIVRd6ytdQ/8y8QjXMq2FiN8KJca58OnRF3P9j9YF5LwcH7tv/6FMlG/Pk9OAULn5GfU24AxLCNXz1nD5XA/UnxG1k2kIcOTLNNDVyghpTTnA2yX0J9ckC4RMw7q0+t1EfXc0Hy4uUqQ2uc/V/qJ7dmCcalzpw9/8b9UfOmARdpw6d/TPq1bksebYdX33J28l56i0psgDA/dpTihoAlkwx0hUA2pJ+AfWOrsljmTVMp04tJlB/5Sac+TpDrdfSPzvW6zOy7dd+5MBV/yeXaEoKdbJNjxy6gi7ix8uRbxjL0ka9wlfFHGETxAVAH3iRWQOIDaeYF8peEb3zBdSfpB05cZ4Yxaf1FbsQt2cukV3Xj/BPRzjV64VAgpZ2+sC1//5Yr1Zq8KIVB8E2fwYgUWlgV4ql+JCar0F1s/Cj2BZbKT+gfs2TTZeHftJ2tPoz6sXCnSissVGPJjPy1F+RewBqd5wgaQCp/pR29ZHXnS19AfUKnL4IgBYv5QwQqJcW5fxVVvnns9kcziaB+5mEA5f8e/WKFqUAWHK8QT2YAnAKKey6LqrWuuW3tgA0DNf7MoHMhebu1CyFhfQD/wddzYkfj0P3y0+9NksnM1uwdupxQqKCxQlTANzpnTRcALjybkYNeJ05X2Jcv1V/EXFlEY7oq1ecdHSmTRP7zGa37m3s1f5rJDQL3wCUl9jUtYNR3RviElnhfqn5LVcA6MCEUr9tzY3l7rRNZsCzRT71I2skqBv3K+zRAVaBehEKS/qmXuoSwVKjwyvQKYnjWohD7ZET5EkeiAu9L6T+njlO9mN4zPvq/bjS5GUf9Vv3/Rj2aF/1rDcc0Nppe+2POo5VWqr0oyVn/iho87EZoGfS+FAjVxm2c+Kg386xwC9Z+FRmvARO62Z/QL3vnidEU/Fd/6X6VJ+cI1DvwitJyBlYWZ9opEWReRSi3frpGkpb4J+Yh9gXUT/kMm1hDZZZTwULU2auadp8Pubn89k+6gP3ZIo92lf9aqkthYGmaZFftWVbVRdFJvJkVa6ZqR1pAcgJUzj3H3jMi4ysNesmvCR9BSiVatlyFaSe9ErjB9Rvjvcmvuu/VI94KbDcKWXg5/g3M/blrQMv0V7YCacJULM9uUh9kVepksXUS/cZUGxNsxuoaG5p140m7aUeSN52sEf7j3Ck4QuA0eWW5OZDs7oCvuXrySEmnziuV6nkljqAUi+Bzos9L74q0rgmVGAVNUdVL/TiEf0B9YBqTlX8VeE6l8D/Qb3CUVX5wCSFtyhH91QPUOzR/uo7+quv/umjemfYwbwFP/WSl6KGl/DrbHAFNDz1qN20r6+ve9+gFPnmZqm+GpCZjH5MPUApvitU/9b/Qf2uz/upkr+Lq7IAepfY9HBtlyYto7FVr44IC+qldm3QYDZr20muxnrVRKAmcRkvLn6VyUhohGsah+r/9+pTJ63WSLhutVrFWau1PqKJ3LCwYCdCfatevBROOfhRTz2gJI71gsaO9bpXladA0+jLQUa1F67kHar/BOrFJ35cF3ieH/d1np+7KWNQWAMok0Vs7Ku3l+Yw80F9XJcZm2Jpw2uqUUCKx624F7sWnkP1ofpPoN7vTsPbbFZlpW4aUIuj4njs8xelmv5RvZSMDfzZ7MT1eprT9zVXj/RceNWGUP0nUR8b2vjdbPYEOBtyolO+lUYNgP2g3k+pu6B8X/OK8IF6SbtMKm61El6rJFT/WdS3I+JH9dRX/3QJ4KZsGdIH9Q9b9QMXVAuIn2iBetWZVIuCG16hJ1T/SdTHeuQV7+qpIs1OcFxlAbiz2yf6rh6PaQBUlWQXdM7b6bQ9n1Nsal4ziyYN1YfqP4N6Oim4CGqP4aW264Uz9tSEV6pIXAAskwHolNeEEgAp+qjXQDXj0ktevkOPa/VUqD5U/xnUI17DpjNnQ7NkobPVmXlWAXAVCUCyUjlSANBXlwWoGw8e7FK81WDDY32o/nOo/6HCK2+G6kP1ofpQfag+VB+qD9WH6kP1ofpQ/U8Xqg/Vh+pD9aH6UH2oPlQfqg/Vh+pD9aH6UP3PFap/L1Qfqg/V/8Z+3a0kEEVhGP52OlbTxAwaTiLiDylZU4OJFEppESlZEHX/91InnUYn7bWD97mDDe9mrUX1VE/1VE/1VE/1VE/1VE/1v0f1VE/1VE/1VE/1VE/1/6P6nrwpgqn+XT+i+r/RzNoKQV65kDdxUigEH8lY3hxU1grBZWn/+wbzO4Xg1E3lzX53qRA8deryJnIvCsH9cCBzR0kke/3r1778mS1qslc72cifq+FjALlp7M5krz5ZTWWttXFVeZRnu/ZjtvFQruVR4TYtWZuO5nUFIBplz2lkqj1JjuXVW7ZzGEeW4uVOWcirnpu3I1PptrsKYbX40rhZOFuVvVie5ecdZ6uc5fIsvq04W4ut/Yz9VourltJcBppp1VLalIHc9tFxCOcUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8NkeHAgAAAAACPK3HuQKAACAiwAjCIUISsQF4QAAAABJRU5ErkJggg==" alt=""></p> <h3 id="v-if指令的原理概述"><a href="#v-if指令的原理概述" class="header-anchor">#</a> v-if指令的原理概述</h3> <p>模板代码</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;has&quot;</span><span class="token operator">&gt;</span><span class="token keyword">if</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">&gt;</span><span class="token keyword">else</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
</code></pre></div><p>生成的代码字符串</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span>has<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">_c</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token function">_v</span><span class="token punctuation">(</span><span class="token string">&quot;if&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_c</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token function">_v</span><span class="token punctuation">(</span><span class="token string">&quot;else&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>上面的代码会根据has变量的值来选择创建哪个节点</p> <h3 id="v-for指令的原理概述"><a href="#v-for指令的原理概述" class="header-anchor">#</a> v-for指令的原理概述</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item, index) in list&quot;</span><span class="token operator">&gt;</span>v<span class="token operator">-</span><span class="token keyword">for</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
</code></pre></div><p>生成的代码字符串（格式化后的）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">_l</span><span class="token punctuation">(</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">_c</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token function">_v</span><span class="token punctuation">(</span><span class="token string">&quot;v-for &quot;</span> <span class="token operator">+</span> <span class="token function">_s</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>_l是函数renderList的别名。当执行这段代码字符串时，_l函数会循环变量list并依次调用第二个参数所传递的函数。同时，会传递两个参数：item和index。此外，当 _c函数被调用时，会执行 _v函数创建一个文本节点。</p> <h3 id="v-on指令"><a href="#v-on指令" class="header-anchor">#</a> v-on指令</h3> <p>v-on指令的作用是绑定事件监听器。这里我们介绍v-on用在普通元素上，内部如何监听DOM事件。</p> <p>从模板解析到生成VNode，最终事件会被保存在VNode中，然后可以通过vnode.data.on得到一个节点注册的所有事件。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>button v<span class="token operator">-</span>on<span class="token operator">:</span>click<span class="token operator">=</span><span class="token string">&quot;doThat&quot;</span><span class="token operator">&gt;</span>我是按钮<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</code></pre></div><p>通过vnode.data.on读出的事件对象</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token function-variable function">click</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>事件绑定的相关逻辑分别设置了create和update钩子函数，当一个DOM元素被创建或更新时，都会触发事件绑定逻辑的处理。</p> <p>事件绑定相关的处理逻辑是updateDOMListeners函数：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> target
<span class="token keyword">function</span> <span class="token function">updateDOMListeners</span> <span class="token punctuation">(</span><span class="token parameter">oldVnode<span class="token punctuation">,</span> vnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 两个VNode中的事件对象都不存在，说明上一次没有绑定任何事件，这一次元素更新也没有新增事件绑定，因此并不需要进行事件的绑定与解绑，直接使用return语句终止函数</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isUndef</span><span class="token punctuation">(</span>oldVnode<span class="token punctuation">.</span>data<span class="token punctuation">.</span>on<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isUndef</span><span class="token punctuation">(</span>vnode<span class="token punctuation">.</span>data<span class="token punctuation">.</span>on<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 新虚拟节点上的事件对象</span>
  <span class="token keyword">const</span> on <span class="token operator">=</span> vnode<span class="token punctuation">.</span>data<span class="token punctuation">.</span>on <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// 旧虚拟节点上的事件对象</span>
  <span class="token keyword">const</span> oldOn <span class="token operator">=</span> oldVnode<span class="token punctuation">.</span>data<span class="token punctuation">.</span>on <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// vnode.elm保存vnode所对应的DOM元素</span>
  target <span class="token operator">=</span> vnode<span class="token punctuation">.</span>elm
  <span class="token comment">// 对特殊情况下的事件对象做一些特殊处理</span>
  <span class="token function">normalizeEvents</span><span class="token punctuation">(</span>on<span class="token punctuation">)</span>
  <span class="token comment">// 更新事件监听器，对比on与oldOn，然后根据对比结果调用add方法或remove方法执行对应的绑定事件或解绑事件等</span>
  <span class="token function">updateListeners</span><span class="token punctuation">(</span>on<span class="token punctuation">,</span> oldOn<span class="token punctuation">,</span> add<span class="token punctuation">,</span> remove<span class="token punctuation">,</span> vnode<span class="token punctuation">.</span>context<span class="token punctuation">)</span>
  target <span class="token operator">=</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>
</code></pre></div><p>add和remove方法是如何绑定与解绑DOM原生事件的呢</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">add</span> <span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> once<span class="token punctuation">,</span> capture<span class="token punctuation">,</span> passive</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// withMacroTask函数的作用是给回调函数做一层包装，当事件触发时，如果因为回调中修改了数据而触发更新DOM的操作，那么该更新操作会被推送到宏任务（macrotask）的任务队列中</span>
  handler <span class="token operator">=</span> <span class="token function">withMacroTask</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span>

  <span class="token comment">// 如果v-on使用了once修饰符，那么会使用高阶函数createOnceHandler实现once的功能</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>once<span class="token punctuation">)</span> handler <span class="token operator">=</span> <span class="token function">createOnceHandler</span><span class="token punctuation">(</span>handler<span class="token punctuation">,</span> event<span class="token punctuation">,</span> capture<span class="token punctuation">)</span>

  <span class="token comment">// 将指定的监听器注册到target上，而target就是使用了v-on的DOM元素</span>
  target<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
    event<span class="token punctuation">,</span>
    handler<span class="token punctuation">,</span>
    supportsPassive
      <span class="token operator">?</span> <span class="token punctuation">{</span> capture<span class="token punctuation">,</span> passive <span class="token punctuation">}</span>
      <span class="token operator">:</span> capture
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 解绑事件</span>
<span class="token keyword">function</span> <span class="token function">remove</span> <span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> capture<span class="token punctuation">,</span> _target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>_target <span class="token operator">||</span> target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span>
    event<span class="token punctuation">,</span>
    <span class="token comment">// handler._withTask存在，则解绑handler. _withTask。这是因为在绑定事件时经过了withMacroTask的处理，最终被绑定的事件监听器其实是handler._withTask，所以解绑时也需要解绑handler._withTask，只有handler. _withTask不存在时才解绑handler</span>
    handler<span class="token punctuation">.</span>_withTask <span class="token operator">||</span> handler<span class="token punctuation">,</span>
    capture
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">createOnceHandler</span> <span class="token punctuation">(</span><span class="token parameter">handler<span class="token punctuation">,</span> event<span class="token punctuation">,</span> capture</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> _target <span class="token operator">=</span> target <span class="token comment">// 在闭包中保存当前目标元素</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">onceHandler</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token function">handler</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>

    <span class="token comment">// 函数的返回值不是null的时候解绑</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 执行remove函数来解绑事件，使事件只能被执行一次</span>
      <span class="token function">remove</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> onceHandler<span class="token punctuation">,</span> capture<span class="token punctuation">,</span> _target<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>v-on指令实现的简单过程：
<img src="/assets/img/6.7291244b.png" alt="v-on指令的简单过程"></p> <h2 id="自定义指令的内部原理"><a href="#自定义指令的内部原理" class="header-anchor">#</a> 自定义指令的内部原理</h2> <p>虚拟DOM在渲染时，除了更新DOM内容外，还会触发钩子函数。事件、指令、属性等相关处理逻辑只需要监听钩子函数，在钩子函数触发时执行相关处理逻辑即可实现功能。</p> <p>指令的处理逻辑分别监听了create、update与destroy</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  create<span class="token operator">:</span> updateDirectives<span class="token punctuation">,</span>
  update<span class="token operator">:</span> updateDirectives<span class="token punctuation">,</span>
  <span class="token function-variable function">destroy</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">unbindDirectives</span> <span class="token punctuation">(</span><span class="token parameter">vnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">updateDirectives</span><span class="token punctuation">(</span>vnode<span class="token punctuation">,</span> emptyNode<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>虚拟DOM在触发钩子函数时，上面代码中对应的函数会被执行且都会执行updateDirectives方法。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">updateDirectives</span> <span class="token punctuation">(</span><span class="token parameter">oldVnode<span class="token punctuation">,</span> vnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 只要其中有一个虚拟节点存在directives，那么就执行_update函数处理指令，在模板解析时，directives会从模板的属性中解析出来并最终设置到VNode中。</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>oldVnode<span class="token punctuation">.</span>data<span class="token punctuation">.</span>directives <span class="token operator">||</span> vnode<span class="token punctuation">.</span>data<span class="token punctuation">.</span>directives<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">_update</span><span class="token punctuation">(</span>oldVnode<span class="token punctuation">,</span> vnode<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">_update</span> <span class="token punctuation">(</span><span class="token parameter">oldVnode<span class="token punctuation">,</span> vnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 判断虚拟节点是否是一个新创建的节点</span>
  <span class="token keyword">const</span> isCreate <span class="token operator">=</span> oldVnode <span class="token operator">===</span> emptyNode
  <span class="token comment">// 当新虚拟节点不存在而旧虚拟节点存在时为真</span>
  <span class="token keyword">const</span> isDestroy <span class="token operator">=</span> vnode <span class="token operator">===</span> emptyNode

  <span class="token comment">// 旧的指令集合，指oldVnode中保存的指令</span>
  <span class="token comment">// normalizeDirectives函数将模板中使用的指令从用户注册的自定义指令集合中取出来</span>
  <span class="token keyword">const</span> oldDirs <span class="token operator">=</span> <span class="token function">normalizeDirectives</span><span class="token punctuation">(</span>oldVnode<span class="token punctuation">.</span>data<span class="token punctuation">.</span>directives<span class="token punctuation">,</span> oldVnode<span class="token punctuation">.</span>context<span class="token punctuation">)</span>
  <span class="token comment">// 新的指令集合，指vnode中保存的指令</span>
  <span class="token keyword">const</span> newDirs <span class="token operator">=</span> <span class="token function">normalizeDirectives</span><span class="token punctuation">(</span>vnode<span class="token punctuation">.</span>data<span class="token punctuation">.</span>directives<span class="token punctuation">,</span> vnode<span class="token punctuation">.</span>context<span class="token punctuation">)</span>

  <span class="token comment">// 保存需要触发inserted指令钩子函数的指令列表</span>
  <span class="token keyword">const</span> dirsWithInsert <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token comment">// 保存需要触发componentUpdated钩子函数的指令列表</span>
  <span class="token keyword">const</span> dirsWithPostpatch <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

  <span class="token keyword">let</span> key<span class="token punctuation">,</span> oldDir<span class="token punctuation">,</span> dir

  <span class="token comment">// 对比两个指令集合并触发对应的指令钩子函数</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>key <span class="token keyword">in</span> newDirs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 从oldDirs取出指令保存到oldDir中</span>
    oldDir <span class="token operator">=</span> oldDirs<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    <span class="token comment">// 从newDirs取出指令保存到dir中</span>
    dir <span class="token operator">=</span> newDirs<span class="token punctuation">[</span>key<span class="token punctuation">]</span>

    <span class="token comment">// oldDir如果不存在，说明当前循环到的指令是首次绑定到元素</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>oldDir<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 新指令，触发bind，callHook的作用是找出指令中对应钩子函数名称的方法，如果该方法存在，则执行它</span>
      <span class="token function">callHook</span><span class="token punctuation">(</span>dir<span class="token punctuation">,</span> <span class="token string">'bind'</span><span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> oldVnode<span class="token punctuation">)</span>

      <span class="token comment">// 如果该指令在注册时设置了inserted方法，那么将指令添加到dirsWithInsert中，可以保证执行完所有指令的bind方法后再执行指令的inserted方法</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>dir<span class="token punctuation">.</span>def <span class="token operator">&amp;&amp;</span> dir<span class="token punctuation">.</span>def<span class="token punctuation">.</span>inserted<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        dirsWithInsert<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// oldDir存在说明指令之前绑定过了，这次的操作是更新指令</span>
      <span class="token comment">// 在dir上添加oldValue属性并在其中保存上一次指令的value属性值</span>
      dir<span class="token punctuation">.</span>oldValue <span class="token operator">=</span> oldDir<span class="token punctuation">.</span>value

      <span class="token function">callHook</span><span class="token punctuation">(</span>dir<span class="token punctuation">,</span> <span class="token string">'update'</span><span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> oldVnode<span class="token punctuation">)</span>

      <span class="token comment">// 判断注册自定义指令时，该指令是否设置了componentUpdated方法。如果设置了，则将该指令添加到dirsWithPostpatch列表中。这样做的目的是让指令所在组件的VNode及其子VNode全部更新后，再调用指令的componentUpdated方法。</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>dir<span class="token punctuation">.</span>def <span class="token operator">&amp;&amp;</span> dir<span class="token punctuation">.</span>def<span class="token punctuation">.</span>componentUpdated<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        dirsWithPostpatch<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 判断dirsWithInsert列表中是否有元素</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>dirsWithInsert<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">callInsert</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 则循环dirsWithInsert依次调用callHook执行每一个指令的inserted钩子函数</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> dirsWithInsert<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">callHook</span><span class="token punctuation">(</span>dirsWithInsert<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'inserted'</span><span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> oldVnode<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 判断虚拟节点是否为一个新创建的节点，如果是，等到元素被插入到父节点之后再执行指令的inserted方法。</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isCreate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// mergeVNodeHook可以将一个钩子函数与虚拟节点现有的钩子函数合并在一起，这样当虚拟DOM触发钩子函数时，新增的钩子函数也会被执行。这里将callInsert添加到虚拟节点的insert钩子函数列表中，这样可以将钩子函数的执行推迟到被绑定的元素插入到父节点之后进行。</span>
      <span class="token function">mergeVNodeHook</span><span class="token punctuation">(</span>vnode<span class="token punctuation">,</span> <span class="token string">'insert'</span><span class="token punctuation">,</span> callInsert<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// 如果isCreate不为真，那么不需要将执行指令的操作推迟到元素被插入到父节点之后，直接执行callInsert执行指令的inserted方法即可。</span>
      <span class="token comment">// 这个函数执行时，才会循环dirsWithInsert依次调用每一个指令的inserted钩子函数，这样做其实是为了让指令的inserted方法在被绑定元素插入到父节点后再调用。</span>
      <span class="token function">callInsert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>dirsWithPostpatch<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  
    <span class="token function">mergeVNodeHook</span><span class="token punctuation">(</span>vnode<span class="token punctuation">,</span> <span class="token string">'postpatch'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> dirsWithPostpatch<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">callHook</span><span class="token punctuation">(</span>dirsWithPostpatch<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'componentUpdated'</span><span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> oldVnode<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 判断当前虚拟节点是否为新创建的</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isCreate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 循环旧的指令列表oldDirs</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>key <span class="token keyword">in</span> oldDirs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 查看它在newDirs中是否存在</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>newDirs<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 不存在则说明这个指令在旧虚拟节点的指令列表中存在，但在新虚拟节点的指令列表中不存在，此时调用callHook执行指令的unbind方法即可</span>
        <span class="token function">callHook</span><span class="token punctuation">(</span>oldDirs<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'unbind'</span><span class="token punctuation">,</span> oldVnode<span class="token punctuation">,</span> oldVnode<span class="token punctuation">,</span> isDestroy<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment">/* 
dir：指令对象。
hook：将要触发的钩子函数名。
vnode：新虚拟节点。
oldVnode：旧虚拟节点。
isDestroy：当新虚拟节点不存在而旧虚拟节点存在时为真。
*/</span>
<span class="token keyword">function</span> <span class="token function">callHook</span> <span class="token punctuation">(</span><span class="token parameter">dir<span class="token punctuation">,</span> hook<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> oldVnode<span class="token punctuation">,</span> isDestroy</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 取出对应的钩子函数</span>
  <span class="token keyword">const</span> fn <span class="token operator">=</span> dir<span class="token punctuation">.</span>def <span class="token operator">&amp;&amp;</span> dir<span class="token punctuation">.</span>def<span class="token punctuation">[</span>hook<span class="token punctuation">]</span>
  <span class="token comment">// 判断钩子函数是否存在</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>fn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 使用try...catch语句捕获钩子函数在执行时可能会抛出的错误</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token comment">// </span>
      <span class="token function">fn</span><span class="token punctuation">(</span>vnode<span class="token punctuation">.</span>elm<span class="token punctuation">,</span> dir<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> oldVnode<span class="token punctuation">,</span> isDestroy<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 处理错误逻辑</span>
      <span class="token function">handleError</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> vnode<span class="token punctuation">.</span>context<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">directive </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>dir<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hook<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> hook</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这里说下_update函数中的normalizeDirectives函数将模板中使用的指令从用户注册的自定义指令集合中取出来</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  v<span class="token operator">-</span>focus<span class="token operator">:</span> <span class="token punctuation">{</span>
    def<span class="token operator">:</span> <span class="token punctuation">{</span>inserted<span class="token operator">:</span> <span class="token operator">?</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    modifiers<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">&quot;focus&quot;</span><span class="token punctuation">,</span>
    rawName<span class="token operator">:</span> <span class="token string">&quot;v-focus&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>自定义指令的代码为</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'focus'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">inserted</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>自定义指令简要过程：
<img src="/assets/img/7.2a4864b1.png" alt=""></p> <h2 id="虚拟dom钩子函数"><a href="#虚拟dom钩子函数" class="header-anchor">#</a> 虚拟DOM钩子函数</h2> <p>虚拟DOM在渲染时会触发的所有钩子函数及其触发时机</p> <table><thead><tr><th>名称</th> <th style="text-align:center;">触发时机</th> <th style="text-align:right;">回调参数</th></tr></thead> <tbody><tr><td>init</td> <td style="text-align:center;">已添加vnode，在修补期间发现新的虚拟节点时被触发</td> <td style="text-align:right;">vnode</td></tr> <tr><td>create</td> <td style="text-align:center;">已经基于VNode创建了DOM元素</td> <td style="text-align:right;">emptyNode和vnode</td></tr> <tr><td>activate</td> <td style="text-align:center;">keepAlive组件被创建</td> <td style="text-align:right;">emptyNode和innerNode</td></tr> <tr><td>insert</td> <td style="text-align:center;">一旦vnode对应的DOM元素被插入到视图中并且修补周期的其余部分已经完成，就会触发</td> <td style="text-align:right;">vnode</td></tr> <tr><td>prepatch</td> <td style="text-align:center;">一个元素即将被修补</td> <td style="text-align:right;">oldVnode和vnode</td></tr> <tr><td>update</td> <td style="text-align:center;">一个元素正在被更新</td> <td style="text-align:right;">oldVnode和vnode</td></tr> <tr><td>postpatch</td> <td style="text-align:center;">一个元素已经被修补</td> <td style="text-align:right;">oldVnode和vnode</td></tr> <tr><td>destroy</td> <td style="text-align:center;">它的DOM元素从DOM中移除时或者它的父元素从DOM中移除时触发</td> <td style="text-align:right;">vnode</td></tr> <tr><td>remove</td> <td style="text-align:center;">vnode对应的DOM元素从DOM中被移除时触发此钩子函数。需要说明的是，只有一个元素从父元素中被移除时会触发，但是如果它是被移除的元素的子项，则不会触发</td> <td style="text-align:right;">vnode和removeCallback</td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/books/深入浅出Vue.js/14.html" class="prev">
        生命周期
      </a></span> <span class="next"><a href="/books/深入浅出Vue.js/16.html">
        过滤器的奥秘
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.590f3e5d.js" defer></script><script src="/assets/js/2.f73decc9.js" defer></script><script src="/assets/js/45.03e75bbd.js" defer></script><script src="/assets/js/63.b9a657c2.js" defer></script>
  </body>
</html>
