<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常见知识点 | 房飞跃的博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="房飞跃的博客">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/assets/css/0.styles.5df48ca7.css" as="style"><link rel="preload" href="/assets/js/app.590f3e5d.js" as="script"><link rel="preload" href="/assets/js/2.f73decc9.js" as="script"><link rel="preload" href="/assets/js/5.6a84a49e.js" as="script"><link rel="preload" href="/assets/js/63.b9a657c2.js" as="script"><link rel="prefetch" href="/assets/js/10.36b3eded.js"><link rel="prefetch" href="/assets/js/100.fdda705a.js"><link rel="prefetch" href="/assets/js/101.1c5bcc65.js"><link rel="prefetch" href="/assets/js/102.cbf2e24c.js"><link rel="prefetch" href="/assets/js/103.fbcc2768.js"><link rel="prefetch" href="/assets/js/104.dd789823.js"><link rel="prefetch" href="/assets/js/105.70f42acb.js"><link rel="prefetch" href="/assets/js/106.d2e7b246.js"><link rel="prefetch" href="/assets/js/107.f94a9fac.js"><link rel="prefetch" href="/assets/js/108.0cef0068.js"><link rel="prefetch" href="/assets/js/109.4ce3cdbd.js"><link rel="prefetch" href="/assets/js/11.b581d225.js"><link rel="prefetch" href="/assets/js/110.ea6d13b1.js"><link rel="prefetch" href="/assets/js/111.0a815db3.js"><link rel="prefetch" href="/assets/js/112.231e2995.js"><link rel="prefetch" href="/assets/js/113.a47d5167.js"><link rel="prefetch" href="/assets/js/114.527b5e8c.js"><link rel="prefetch" href="/assets/js/115.4df6874a.js"><link rel="prefetch" href="/assets/js/116.2606e7be.js"><link rel="prefetch" href="/assets/js/117.d54bfc25.js"><link rel="prefetch" href="/assets/js/118.9862082e.js"><link rel="prefetch" href="/assets/js/119.a75e8894.js"><link rel="prefetch" href="/assets/js/12.41a5ab33.js"><link rel="prefetch" href="/assets/js/120.6e13557a.js"><link rel="prefetch" href="/assets/js/121.eafa87fa.js"><link rel="prefetch" href="/assets/js/122.e4c849dc.js"><link rel="prefetch" href="/assets/js/123.dedb825a.js"><link rel="prefetch" href="/assets/js/124.afeaa1c4.js"><link rel="prefetch" href="/assets/js/125.b25549b3.js"><link rel="prefetch" href="/assets/js/126.4c3d3fcb.js"><link rel="prefetch" href="/assets/js/127.4c98858a.js"><link rel="prefetch" href="/assets/js/128.854b8cc1.js"><link rel="prefetch" href="/assets/js/129.112e862a.js"><link rel="prefetch" href="/assets/js/13.ee1d9787.js"><link rel="prefetch" href="/assets/js/130.b88070a9.js"><link rel="prefetch" href="/assets/js/131.29e91054.js"><link rel="prefetch" href="/assets/js/132.248e712b.js"><link rel="prefetch" href="/assets/js/133.0b7be740.js"><link rel="prefetch" href="/assets/js/134.ceb9c04b.js"><link rel="prefetch" href="/assets/js/135.599ee1d5.js"><link rel="prefetch" href="/assets/js/136.ce5bcf19.js"><link rel="prefetch" href="/assets/js/137.51f0a6b4.js"><link rel="prefetch" href="/assets/js/138.91bc64aa.js"><link rel="prefetch" href="/assets/js/139.300c0ef9.js"><link rel="prefetch" href="/assets/js/14.39a205f1.js"><link rel="prefetch" href="/assets/js/140.7044d372.js"><link rel="prefetch" href="/assets/js/141.9a9d663a.js"><link rel="prefetch" href="/assets/js/142.814b7237.js"><link rel="prefetch" href="/assets/js/143.1ce72115.js"><link rel="prefetch" href="/assets/js/144.f82c0950.js"><link rel="prefetch" href="/assets/js/145.2b4ef4fc.js"><link rel="prefetch" href="/assets/js/146.8b80954b.js"><link rel="prefetch" href="/assets/js/147.fe15e14a.js"><link rel="prefetch" href="/assets/js/148.29803b80.js"><link rel="prefetch" href="/assets/js/149.a3995f20.js"><link rel="prefetch" href="/assets/js/15.db4b1d97.js"><link rel="prefetch" href="/assets/js/150.02476224.js"><link rel="prefetch" href="/assets/js/151.34d53d30.js"><link rel="prefetch" href="/assets/js/152.f4382542.js"><link rel="prefetch" href="/assets/js/153.7986e095.js"><link rel="prefetch" href="/assets/js/154.cb74fee8.js"><link rel="prefetch" href="/assets/js/155.f933c4d1.js"><link rel="prefetch" href="/assets/js/156.9e450f38.js"><link rel="prefetch" href="/assets/js/157.4374f6c6.js"><link rel="prefetch" href="/assets/js/158.e31f0038.js"><link rel="prefetch" href="/assets/js/159.acbfc21e.js"><link rel="prefetch" href="/assets/js/16.9deed75c.js"><link rel="prefetch" href="/assets/js/160.8cdb57f8.js"><link rel="prefetch" href="/assets/js/161.3eca6d69.js"><link rel="prefetch" href="/assets/js/162.d67e29cf.js"><link rel="prefetch" href="/assets/js/163.d7d8a363.js"><link rel="prefetch" href="/assets/js/164.153713be.js"><link rel="prefetch" href="/assets/js/165.4ec834cb.js"><link rel="prefetch" href="/assets/js/166.6584eb16.js"><link rel="prefetch" href="/assets/js/167.c3edfee1.js"><link rel="prefetch" href="/assets/js/168.1605a092.js"><link rel="prefetch" href="/assets/js/169.c7aebeb4.js"><link rel="prefetch" href="/assets/js/17.d7e980f9.js"><link rel="prefetch" href="/assets/js/170.a38f18fe.js"><link rel="prefetch" href="/assets/js/171.761cf543.js"><link rel="prefetch" href="/assets/js/172.1f4b197e.js"><link rel="prefetch" href="/assets/js/173.34ebda5b.js"><link rel="prefetch" href="/assets/js/174.8c76d6e4.js"><link rel="prefetch" href="/assets/js/175.ad549e70.js"><link rel="prefetch" href="/assets/js/176.9866d668.js"><link rel="prefetch" href="/assets/js/177.1376a82c.js"><link rel="prefetch" href="/assets/js/178.2f222d8d.js"><link rel="prefetch" href="/assets/js/179.516a4e47.js"><link rel="prefetch" href="/assets/js/18.55ece6ed.js"><link rel="prefetch" href="/assets/js/180.1c448ad8.js"><link rel="prefetch" href="/assets/js/181.a4745dce.js"><link rel="prefetch" href="/assets/js/182.060ce287.js"><link rel="prefetch" href="/assets/js/183.aa397cf5.js"><link rel="prefetch" href="/assets/js/184.eedb5e7b.js"><link rel="prefetch" href="/assets/js/185.e13c55ec.js"><link rel="prefetch" href="/assets/js/186.e7d5c72b.js"><link rel="prefetch" href="/assets/js/187.6cc11c55.js"><link rel="prefetch" href="/assets/js/188.bff141ef.js"><link rel="prefetch" href="/assets/js/189.54cda1bb.js"><link rel="prefetch" href="/assets/js/19.6969d652.js"><link rel="prefetch" href="/assets/js/190.df4b36f2.js"><link rel="prefetch" href="/assets/js/191.b1602a58.js"><link rel="prefetch" href="/assets/js/192.8a143411.js"><link rel="prefetch" href="/assets/js/193.e31348b9.js"><link rel="prefetch" href="/assets/js/194.ef1f0a74.js"><link rel="prefetch" href="/assets/js/195.77ef93ce.js"><link rel="prefetch" href="/assets/js/196.fda6b3dd.js"><link rel="prefetch" href="/assets/js/197.51f02977.js"><link rel="prefetch" href="/assets/js/198.bf7775ee.js"><link rel="prefetch" href="/assets/js/199.dfa0fce8.js"><link rel="prefetch" href="/assets/js/20.0a0371f1.js"><link rel="prefetch" href="/assets/js/200.633b314b.js"><link rel="prefetch" href="/assets/js/201.abcba495.js"><link rel="prefetch" href="/assets/js/202.e05a3558.js"><link rel="prefetch" href="/assets/js/203.55a478a3.js"><link rel="prefetch" href="/assets/js/204.45db1987.js"><link rel="prefetch" href="/assets/js/205.e7610693.js"><link rel="prefetch" href="/assets/js/206.a31bc767.js"><link rel="prefetch" href="/assets/js/207.1aad1d13.js"><link rel="prefetch" href="/assets/js/208.6b93971f.js"><link rel="prefetch" href="/assets/js/209.2c1396dc.js"><link rel="prefetch" href="/assets/js/21.5f3d0414.js"><link rel="prefetch" href="/assets/js/210.bb90faf0.js"><link rel="prefetch" href="/assets/js/211.6aacd030.js"><link rel="prefetch" href="/assets/js/212.a341bb68.js"><link rel="prefetch" href="/assets/js/213.3e163adf.js"><link rel="prefetch" href="/assets/js/214.2519eb04.js"><link rel="prefetch" href="/assets/js/215.31a56efc.js"><link rel="prefetch" href="/assets/js/216.5f6e4518.js"><link rel="prefetch" href="/assets/js/217.d9618812.js"><link rel="prefetch" href="/assets/js/218.d386c011.js"><link rel="prefetch" href="/assets/js/219.395af281.js"><link rel="prefetch" href="/assets/js/22.1a5b1251.js"><link rel="prefetch" href="/assets/js/220.615b3dac.js"><link rel="prefetch" href="/assets/js/221.33401568.js"><link rel="prefetch" href="/assets/js/222.a080e6cc.js"><link rel="prefetch" href="/assets/js/223.ae2084fb.js"><link rel="prefetch" href="/assets/js/224.6bc203fe.js"><link rel="prefetch" href="/assets/js/225.7e4737a3.js"><link rel="prefetch" href="/assets/js/226.ec6a690d.js"><link rel="prefetch" href="/assets/js/227.967f1c41.js"><link rel="prefetch" href="/assets/js/228.c72d8b21.js"><link rel="prefetch" href="/assets/js/229.48dd2f01.js"><link rel="prefetch" href="/assets/js/23.76e30a13.js"><link rel="prefetch" href="/assets/js/230.1c02b6ab.js"><link rel="prefetch" href="/assets/js/231.8cf14ae6.js"><link rel="prefetch" href="/assets/js/232.4e00abc6.js"><link rel="prefetch" href="/assets/js/233.9a6bfb8c.js"><link rel="prefetch" href="/assets/js/234.7b1814f9.js"><link rel="prefetch" href="/assets/js/235.414e1dad.js"><link rel="prefetch" href="/assets/js/236.5926b488.js"><link rel="prefetch" href="/assets/js/237.df3857ea.js"><link rel="prefetch" href="/assets/js/238.c560dcf8.js"><link rel="prefetch" href="/assets/js/239.842efd50.js"><link rel="prefetch" href="/assets/js/24.1febfcd1.js"><link rel="prefetch" href="/assets/js/240.d47f24ed.js"><link rel="prefetch" href="/assets/js/241.ab01ea87.js"><link rel="prefetch" href="/assets/js/242.a5f6d83f.js"><link rel="prefetch" href="/assets/js/243.cac5f5c3.js"><link rel="prefetch" href="/assets/js/244.90105026.js"><link rel="prefetch" href="/assets/js/245.b18fffa1.js"><link rel="prefetch" href="/assets/js/246.941bcf8d.js"><link rel="prefetch" href="/assets/js/247.8b295baa.js"><link rel="prefetch" href="/assets/js/248.c6a61d12.js"><link rel="prefetch" href="/assets/js/249.22ff657f.js"><link rel="prefetch" href="/assets/js/25.6fbbd83f.js"><link rel="prefetch" href="/assets/js/250.8a2def71.js"><link rel="prefetch" href="/assets/js/251.aa4f0601.js"><link rel="prefetch" href="/assets/js/252.3f58bfa4.js"><link rel="prefetch" href="/assets/js/253.5623e75b.js"><link rel="prefetch" href="/assets/js/254.2f1a1bc8.js"><link rel="prefetch" href="/assets/js/255.fea91b4d.js"><link rel="prefetch" href="/assets/js/256.c4c8e156.js"><link rel="prefetch" href="/assets/js/257.31d016a7.js"><link rel="prefetch" href="/assets/js/258.cec0b239.js"><link rel="prefetch" href="/assets/js/259.61328dd2.js"><link rel="prefetch" href="/assets/js/26.823de7af.js"><link rel="prefetch" href="/assets/js/260.acb4619a.js"><link rel="prefetch" href="/assets/js/261.4eeae626.js"><link rel="prefetch" href="/assets/js/262.f7dbbd08.js"><link rel="prefetch" href="/assets/js/263.5c54eb81.js"><link rel="prefetch" href="/assets/js/264.751669e3.js"><link rel="prefetch" href="/assets/js/265.545aea2a.js"><link rel="prefetch" href="/assets/js/266.e588f376.js"><link rel="prefetch" href="/assets/js/267.65d67eff.js"><link rel="prefetch" href="/assets/js/268.9d7592ba.js"><link rel="prefetch" href="/assets/js/269.c44c063e.js"><link rel="prefetch" href="/assets/js/27.988d824e.js"><link rel="prefetch" href="/assets/js/270.1addc830.js"><link rel="prefetch" href="/assets/js/271.0d4b2272.js"><link rel="prefetch" href="/assets/js/272.8d3e01fc.js"><link rel="prefetch" href="/assets/js/273.fe83a7a4.js"><link rel="prefetch" href="/assets/js/274.c3f8880a.js"><link rel="prefetch" href="/assets/js/275.01d7762a.js"><link rel="prefetch" href="/assets/js/276.58095ef7.js"><link rel="prefetch" href="/assets/js/277.44657e6b.js"><link rel="prefetch" href="/assets/js/278.2331d394.js"><link rel="prefetch" href="/assets/js/279.81ad3829.js"><link rel="prefetch" href="/assets/js/28.95c94d01.js"><link rel="prefetch" href="/assets/js/280.a284b116.js"><link rel="prefetch" href="/assets/js/281.e1050af8.js"><link rel="prefetch" href="/assets/js/282.b486d445.js"><link rel="prefetch" href="/assets/js/283.e22170bd.js"><link rel="prefetch" href="/assets/js/284.3c8def33.js"><link rel="prefetch" href="/assets/js/285.1bc70cce.js"><link rel="prefetch" href="/assets/js/286.a31fe5c5.js"><link rel="prefetch" href="/assets/js/287.90b937ac.js"><link rel="prefetch" href="/assets/js/288.73647716.js"><link rel="prefetch" href="/assets/js/289.6a231446.js"><link rel="prefetch" href="/assets/js/29.53562974.js"><link rel="prefetch" href="/assets/js/290.3bbc1445.js"><link rel="prefetch" href="/assets/js/291.82092bf1.js"><link rel="prefetch" href="/assets/js/292.da50c68b.js"><link rel="prefetch" href="/assets/js/293.3bb527ee.js"><link rel="prefetch" href="/assets/js/294.ba612d56.js"><link rel="prefetch" href="/assets/js/295.18639d50.js"><link rel="prefetch" href="/assets/js/296.1d39ebf1.js"><link rel="prefetch" href="/assets/js/297.d327b395.js"><link rel="prefetch" href="/assets/js/298.2cd88ff7.js"><link rel="prefetch" href="/assets/js/299.9a585823.js"><link rel="prefetch" href="/assets/js/3.434820ad.js"><link rel="prefetch" href="/assets/js/30.65faad2e.js"><link rel="prefetch" href="/assets/js/300.9408a130.js"><link rel="prefetch" href="/assets/js/301.61243e7d.js"><link rel="prefetch" href="/assets/js/302.626e76e0.js"><link rel="prefetch" href="/assets/js/303.2ffb53aa.js"><link rel="prefetch" href="/assets/js/304.47a7cbc4.js"><link rel="prefetch" href="/assets/js/305.87d2dbcd.js"><link rel="prefetch" href="/assets/js/306.d010dd8a.js"><link rel="prefetch" href="/assets/js/307.52aa5991.js"><link rel="prefetch" href="/assets/js/308.c31fe4d2.js"><link rel="prefetch" href="/assets/js/309.30705de0.js"><link rel="prefetch" href="/assets/js/31.55e60aaa.js"><link rel="prefetch" href="/assets/js/310.2ea3101e.js"><link rel="prefetch" href="/assets/js/311.c8367c67.js"><link rel="prefetch" href="/assets/js/312.3437ad0d.js"><link rel="prefetch" href="/assets/js/313.650f3835.js"><link rel="prefetch" href="/assets/js/314.5a9617cf.js"><link rel="prefetch" href="/assets/js/315.6c7dee46.js"><link rel="prefetch" href="/assets/js/316.f4c868c1.js"><link rel="prefetch" href="/assets/js/317.dabc9003.js"><link rel="prefetch" href="/assets/js/318.94a3ede0.js"><link rel="prefetch" href="/assets/js/319.87c920f8.js"><link rel="prefetch" href="/assets/js/32.64ad9712.js"><link rel="prefetch" href="/assets/js/320.8757ca2c.js"><link rel="prefetch" href="/assets/js/321.6e2783d5.js"><link rel="prefetch" href="/assets/js/322.f8996296.js"><link rel="prefetch" href="/assets/js/323.302a6fef.js"><link rel="prefetch" href="/assets/js/324.d6fd3e0b.js"><link rel="prefetch" href="/assets/js/325.e0782dc3.js"><link rel="prefetch" href="/assets/js/326.60d0aab3.js"><link rel="prefetch" href="/assets/js/327.7f840ace.js"><link rel="prefetch" href="/assets/js/328.e2976e72.js"><link rel="prefetch" href="/assets/js/329.d8eacc74.js"><link rel="prefetch" href="/assets/js/33.3e5e84ce.js"><link rel="prefetch" href="/assets/js/330.f12e597e.js"><link rel="prefetch" href="/assets/js/331.bf741811.js"><link rel="prefetch" href="/assets/js/332.2a5e7914.js"><link rel="prefetch" href="/assets/js/333.5ef9eecd.js"><link rel="prefetch" href="/assets/js/334.124452eb.js"><link rel="prefetch" href="/assets/js/335.c80162a9.js"><link rel="prefetch" href="/assets/js/336.286ad2d8.js"><link rel="prefetch" href="/assets/js/337.c27fb6f2.js"><link rel="prefetch" href="/assets/js/338.73fbb9b7.js"><link rel="prefetch" href="/assets/js/339.dcdb4c9d.js"><link rel="prefetch" href="/assets/js/34.3a9de936.js"><link rel="prefetch" href="/assets/js/340.6e61aa11.js"><link rel="prefetch" href="/assets/js/341.2aca9f6f.js"><link rel="prefetch" href="/assets/js/342.1d1f8c28.js"><link rel="prefetch" href="/assets/js/343.f8d954e6.js"><link rel="prefetch" href="/assets/js/344.afcd59c9.js"><link rel="prefetch" href="/assets/js/345.ce25fe01.js"><link rel="prefetch" href="/assets/js/346.80ae36ff.js"><link rel="prefetch" href="/assets/js/347.bb07eed8.js"><link rel="prefetch" href="/assets/js/348.d17a0f1d.js"><link rel="prefetch" href="/assets/js/349.7ebf510a.js"><link rel="prefetch" href="/assets/js/35.06f788fc.js"><link rel="prefetch" href="/assets/js/350.68b134bf.js"><link rel="prefetch" href="/assets/js/351.09592f5d.js"><link rel="prefetch" href="/assets/js/352.1d08e41d.js"><link rel="prefetch" href="/assets/js/353.4cc57dd3.js"><link rel="prefetch" href="/assets/js/354.bf18a8e7.js"><link rel="prefetch" href="/assets/js/355.81b52c01.js"><link rel="prefetch" href="/assets/js/356.9ddd11b7.js"><link rel="prefetch" href="/assets/js/357.5083b1cb.js"><link rel="prefetch" href="/assets/js/358.b574bd41.js"><link rel="prefetch" href="/assets/js/359.aa0f66a0.js"><link rel="prefetch" href="/assets/js/36.619ee85c.js"><link rel="prefetch" href="/assets/js/360.e2f48183.js"><link rel="prefetch" href="/assets/js/361.79b1250b.js"><link rel="prefetch" href="/assets/js/362.238d5116.js"><link rel="prefetch" href="/assets/js/363.f9ed76f9.js"><link rel="prefetch" href="/assets/js/364.29ecc302.js"><link rel="prefetch" href="/assets/js/365.af5dfb84.js"><link rel="prefetch" href="/assets/js/366.803b9b34.js"><link rel="prefetch" href="/assets/js/367.cfb5cda4.js"><link rel="prefetch" href="/assets/js/368.371608df.js"><link rel="prefetch" href="/assets/js/369.236637e4.js"><link rel="prefetch" href="/assets/js/37.993e4753.js"><link rel="prefetch" href="/assets/js/370.a7736151.js"><link rel="prefetch" href="/assets/js/371.cea6669c.js"><link rel="prefetch" href="/assets/js/372.dd7b7cb8.js"><link rel="prefetch" href="/assets/js/373.b35db4ab.js"><link rel="prefetch" href="/assets/js/374.6d1a51a7.js"><link rel="prefetch" href="/assets/js/375.524a59d5.js"><link rel="prefetch" href="/assets/js/376.e61ff9c4.js"><link rel="prefetch" href="/assets/js/377.20f5524b.js"><link rel="prefetch" href="/assets/js/378.27f22518.js"><link rel="prefetch" href="/assets/js/379.2e302826.js"><link rel="prefetch" href="/assets/js/38.eed8aa34.js"><link rel="prefetch" href="/assets/js/380.cdcd87ce.js"><link rel="prefetch" href="/assets/js/381.24fb213f.js"><link rel="prefetch" href="/assets/js/382.101b4319.js"><link rel="prefetch" href="/assets/js/383.2a16e8b6.js"><link rel="prefetch" href="/assets/js/384.a20d693f.js"><link rel="prefetch" href="/assets/js/385.17e97477.js"><link rel="prefetch" href="/assets/js/386.6e239e8e.js"><link rel="prefetch" href="/assets/js/387.beb4354b.js"><link rel="prefetch" href="/assets/js/388.035fc37a.js"><link rel="prefetch" href="/assets/js/389.4017e30f.js"><link rel="prefetch" href="/assets/js/39.aab0b851.js"><link rel="prefetch" href="/assets/js/390.11b2f597.js"><link rel="prefetch" href="/assets/js/391.3b193822.js"><link rel="prefetch" href="/assets/js/392.25c1d9f6.js"><link rel="prefetch" href="/assets/js/393.931523ed.js"><link rel="prefetch" href="/assets/js/394.2ba9d35e.js"><link rel="prefetch" href="/assets/js/395.201269ae.js"><link rel="prefetch" href="/assets/js/396.73113431.js"><link rel="prefetch" href="/assets/js/397.d8059292.js"><link rel="prefetch" href="/assets/js/398.1727254c.js"><link rel="prefetch" href="/assets/js/399.343ad520.js"><link rel="prefetch" href="/assets/js/4.2580f809.js"><link rel="prefetch" href="/assets/js/40.4d7aaeb7.js"><link rel="prefetch" href="/assets/js/400.53388b6b.js"><link rel="prefetch" href="/assets/js/401.961883b0.js"><link rel="prefetch" href="/assets/js/402.d35c2c6f.js"><link rel="prefetch" href="/assets/js/403.b4e7f97b.js"><link rel="prefetch" href="/assets/js/404.e8c3790b.js"><link rel="prefetch" href="/assets/js/405.15e5c920.js"><link rel="prefetch" href="/assets/js/406.9d41b3c8.js"><link rel="prefetch" href="/assets/js/407.09d6db7d.js"><link rel="prefetch" href="/assets/js/408.4fc3ccd6.js"><link rel="prefetch" href="/assets/js/409.0a858daf.js"><link rel="prefetch" href="/assets/js/41.e0a60d57.js"><link rel="prefetch" href="/assets/js/410.0260ca3a.js"><link rel="prefetch" href="/assets/js/411.a15abcd5.js"><link rel="prefetch" href="/assets/js/412.24731dfb.js"><link rel="prefetch" href="/assets/js/413.f55fe0d7.js"><link rel="prefetch" href="/assets/js/414.c54e0627.js"><link rel="prefetch" href="/assets/js/415.cc651a30.js"><link rel="prefetch" href="/assets/js/416.486798f0.js"><link rel="prefetch" href="/assets/js/417.0d5a5b42.js"><link rel="prefetch" href="/assets/js/418.66e4498a.js"><link rel="prefetch" href="/assets/js/419.0b57a78f.js"><link rel="prefetch" href="/assets/js/42.0a7a5e68.js"><link rel="prefetch" href="/assets/js/420.500f2570.js"><link rel="prefetch" href="/assets/js/421.4b0d1a76.js"><link rel="prefetch" href="/assets/js/422.b0fc956e.js"><link rel="prefetch" href="/assets/js/423.14392a44.js"><link rel="prefetch" href="/assets/js/424.c4ba9afa.js"><link rel="prefetch" href="/assets/js/425.057f73ae.js"><link rel="prefetch" href="/assets/js/426.dffd3bb6.js"><link rel="prefetch" href="/assets/js/427.337b47c5.js"><link rel="prefetch" href="/assets/js/428.9f9b5f22.js"><link rel="prefetch" href="/assets/js/429.0ed4b794.js"><link rel="prefetch" href="/assets/js/43.84e3ad33.js"><link rel="prefetch" href="/assets/js/430.398efdef.js"><link rel="prefetch" href="/assets/js/431.9688dbc7.js"><link rel="prefetch" href="/assets/js/432.92bab9f6.js"><link rel="prefetch" href="/assets/js/433.fc4360d3.js"><link rel="prefetch" href="/assets/js/434.1068f226.js"><link rel="prefetch" href="/assets/js/435.64318382.js"><link rel="prefetch" href="/assets/js/436.992a5ea4.js"><link rel="prefetch" href="/assets/js/437.51e1f4e6.js"><link rel="prefetch" href="/assets/js/438.dc345e24.js"><link rel="prefetch" href="/assets/js/439.ca03ba3a.js"><link rel="prefetch" href="/assets/js/44.4c1cfe42.js"><link rel="prefetch" href="/assets/js/440.4c2e1760.js"><link rel="prefetch" href="/assets/js/441.dc889ecf.js"><link rel="prefetch" href="/assets/js/442.b629a091.js"><link rel="prefetch" href="/assets/js/443.93eadd08.js"><link rel="prefetch" href="/assets/js/444.69befc9e.js"><link rel="prefetch" href="/assets/js/445.6b18e387.js"><link rel="prefetch" href="/assets/js/446.dc4ef99c.js"><link rel="prefetch" href="/assets/js/447.349de474.js"><link rel="prefetch" href="/assets/js/448.22e2e6c7.js"><link rel="prefetch" href="/assets/js/449.b78455e5.js"><link rel="prefetch" href="/assets/js/45.03e75bbd.js"><link rel="prefetch" href="/assets/js/450.3e256487.js"><link rel="prefetch" href="/assets/js/451.23525476.js"><link rel="prefetch" href="/assets/js/452.7383b385.js"><link rel="prefetch" href="/assets/js/453.1a7553c1.js"><link rel="prefetch" href="/assets/js/454.9bdee81b.js"><link rel="prefetch" href="/assets/js/455.e0eb6a97.js"><link rel="prefetch" href="/assets/js/456.820ffa9c.js"><link rel="prefetch" href="/assets/js/457.4639b3cd.js"><link rel="prefetch" href="/assets/js/458.7e4d9d2a.js"><link rel="prefetch" href="/assets/js/459.1b4becf2.js"><link rel="prefetch" href="/assets/js/46.5c7d982f.js"><link rel="prefetch" href="/assets/js/460.d6e052a2.js"><link rel="prefetch" href="/assets/js/461.ebb726a4.js"><link rel="prefetch" href="/assets/js/462.3c62f062.js"><link rel="prefetch" href="/assets/js/463.072730fc.js"><link rel="prefetch" href="/assets/js/464.05b6f3e9.js"><link rel="prefetch" href="/assets/js/465.5f1d1530.js"><link rel="prefetch" href="/assets/js/466.8a677003.js"><link rel="prefetch" href="/assets/js/467.2eb0a0ff.js"><link rel="prefetch" href="/assets/js/468.1e3bce7c.js"><link rel="prefetch" href="/assets/js/469.63b4c7dd.js"><link rel="prefetch" href="/assets/js/47.4349c0cc.js"><link rel="prefetch" href="/assets/js/470.aad91611.js"><link rel="prefetch" href="/assets/js/471.00283a40.js"><link rel="prefetch" href="/assets/js/472.8260893c.js"><link rel="prefetch" href="/assets/js/473.cce9db55.js"><link rel="prefetch" href="/assets/js/474.503f3087.js"><link rel="prefetch" href="/assets/js/475.ba2c46da.js"><link rel="prefetch" href="/assets/js/476.d1acddf7.js"><link rel="prefetch" href="/assets/js/477.b05b815e.js"><link rel="prefetch" href="/assets/js/478.f2b25b77.js"><link rel="prefetch" href="/assets/js/479.e0e4d348.js"><link rel="prefetch" href="/assets/js/48.64ebf972.js"><link rel="prefetch" href="/assets/js/480.e7267fa4.js"><link rel="prefetch" href="/assets/js/481.dd4125c5.js"><link rel="prefetch" href="/assets/js/482.ca49dd42.js"><link rel="prefetch" href="/assets/js/483.11b1e5e0.js"><link rel="prefetch" href="/assets/js/484.57f34a7f.js"><link rel="prefetch" href="/assets/js/485.46d9e9c6.js"><link rel="prefetch" href="/assets/js/486.69cee9b4.js"><link rel="prefetch" href="/assets/js/487.1956009f.js"><link rel="prefetch" href="/assets/js/49.8974c4f9.js"><link rel="prefetch" href="/assets/js/50.5c084833.js"><link rel="prefetch" href="/assets/js/51.9b99bea9.js"><link rel="prefetch" href="/assets/js/52.3a585fc0.js"><link rel="prefetch" href="/assets/js/53.64b65dcb.js"><link rel="prefetch" href="/assets/js/54.01c85c4a.js"><link rel="prefetch" href="/assets/js/55.6d3cc522.js"><link rel="prefetch" href="/assets/js/56.9cd660c8.js"><link rel="prefetch" href="/assets/js/57.11e1801d.js"><link rel="prefetch" href="/assets/js/58.d9e5f847.js"><link rel="prefetch" href="/assets/js/59.a5e2472c.js"><link rel="prefetch" href="/assets/js/6.d4f8e32a.js"><link rel="prefetch" href="/assets/js/60.77db5315.js"><link rel="prefetch" href="/assets/js/61.da28c70d.js"><link rel="prefetch" href="/assets/js/62.405b03e1.js"><link rel="prefetch" href="/assets/js/64.69c64784.js"><link rel="prefetch" href="/assets/js/65.cee0c834.js"><link rel="prefetch" href="/assets/js/66.9fa85082.js"><link rel="prefetch" href="/assets/js/67.ebc9eb8d.js"><link rel="prefetch" href="/assets/js/68.8d7f5fd5.js"><link rel="prefetch" href="/assets/js/69.9b3498b1.js"><link rel="prefetch" href="/assets/js/7.83f99489.js"><link rel="prefetch" href="/assets/js/70.8c0a3b25.js"><link rel="prefetch" href="/assets/js/71.6d24abff.js"><link rel="prefetch" href="/assets/js/72.17f36f5a.js"><link rel="prefetch" href="/assets/js/73.ade71c5d.js"><link rel="prefetch" href="/assets/js/74.6d9312f1.js"><link rel="prefetch" href="/assets/js/75.f30ed904.js"><link rel="prefetch" href="/assets/js/76.84ef8356.js"><link rel="prefetch" href="/assets/js/77.4c58a88a.js"><link rel="prefetch" href="/assets/js/78.0ace38df.js"><link rel="prefetch" href="/assets/js/79.825c03e7.js"><link rel="prefetch" href="/assets/js/8.60f0b36d.js"><link rel="prefetch" href="/assets/js/80.63f7e2bb.js"><link rel="prefetch" href="/assets/js/81.62e051ed.js"><link rel="prefetch" href="/assets/js/82.26828682.js"><link rel="prefetch" href="/assets/js/83.be70428b.js"><link rel="prefetch" href="/assets/js/84.aa44143b.js"><link rel="prefetch" href="/assets/js/85.cc38e2a9.js"><link rel="prefetch" href="/assets/js/86.9a8beb01.js"><link rel="prefetch" href="/assets/js/87.a051754c.js"><link rel="prefetch" href="/assets/js/88.0fe5a9f8.js"><link rel="prefetch" href="/assets/js/89.c2d41d94.js"><link rel="prefetch" href="/assets/js/9.375ffec2.js"><link rel="prefetch" href="/assets/js/90.3bd7045a.js"><link rel="prefetch" href="/assets/js/91.dbfd3514.js"><link rel="prefetch" href="/assets/js/92.ee0349b9.js"><link rel="prefetch" href="/assets/js/93.3bbfbbd0.js"><link rel="prefetch" href="/assets/js/94.fb94c70b.js"><link rel="prefetch" href="/assets/js/95.59de5eae.js"><link rel="prefetch" href="/assets/js/96.ebb2c66f.js"><link rel="prefetch" href="/assets/js/97.660aef77.js"><link rel="prefetch" href="/assets/js/98.8d7946e1.js"><link rel="prefetch" href="/assets/js/99.f319da86.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5df48ca7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="房飞跃的博客" class="logo"> <span class="site-name can-hide">房飞跃的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/深入浅出Vue.js/01.html" class="nav-link">
  深入浅出Vue
</a></li><li class="dropdown-subitem"><a href="/front/vue/vue/01.html" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/front/vue/vue-router/01.html" class="nav-link">
  VueRouter
</a></li><li class="dropdown-subitem"><a href="/front/vue/Vuex/01.html" class="nav-link">
  Vuex
</a></li><li class="dropdown-subitem"><a href="/front/vue/vue3/01.html" class="nav-link">
  Vue3核心剖析
</a></li><li class="dropdown-subitem"><a href="/front/vue/Vue知识点简单梳理/01.html" class="nav-link">
  Vue知识点简单梳理
</a></li></ul></li><li class="dropdown-item"><h4>
          React
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/深入React技术栈/01.html" class="nav-link">
  深入React技术栈
</a></li><li class="dropdown-subitem"><a href="/front/react/React进阶实践指南/01.html" class="nav-link">
  React进阶实践指南
</a></li><li class="dropdown-subitem"><a href="/front/react/React知识点简单梳理/01.html" class="nav-link">
  React知识点简单梳理
</a></li></ul></li><li class="dropdown-item"><h4>
          混合开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/混合开发/01.html" class="nav-link">
  混合开发探究
</a></li></ul></li><li class="dropdown-item"><h4>
          TypeScript
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/ts/极简入门Typescript/01.html" class="nav-link">
  极简入门Typescript
</a></li></ul></li><li class="dropdown-item"><h4>
          Webpack
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/webpack/极简入门webpack/01.html" class="nav-link">
  极简入门
</a></li><li class="dropdown-subitem"><a href="/front/webpack/常见面试题/01.html" class="nav-link">
  常见面试题
</a></li></ul></li><li class="dropdown-item"><h4>
          设计模式
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/设计模式/JS设计模式核心原理和应用实践/01.html" class="nav-link">
  JS设计模式核心原理和应用实践
</a></li></ul></li><li class="dropdown-item"><h4>
          算法和数据结构
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/算法和数据结构/入门级算法/01.html" class="nav-link">
  入门级算法
</a></li><li class="dropdown-subitem"><a href="/front/算法和数据结构/常见算法/01.html" class="nav-link">
  常见算法
</a></li><li class="dropdown-subitem"><a href="/front/算法和数据结构/常见数据结构/01.html" class="nav-link">
  常见数据结构
</a></li><li class="dropdown-subitem"><a href="/front/算法和数据结构/前端算法与数据结构/01.html" class="nav-link">
  前端算法与数据结构
</a></li></ul></li><li class="dropdown-item"><h4>
          基础必备
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/base/html必备/01.html" class="nav-link">
  HTML必备
</a></li><li class="dropdown-subitem"><a href="/front/base/CSS必备/01.html" class="nav-link">
  CSS必备
</a></li><li class="dropdown-subitem"><a href="/front/base/JS基础/01.html" class="nav-link">
  JS基础
</a></li><li class="dropdown-subitem"><a href="/front/base/JS进阶/01.html" class="nav-link">
  JS进阶
</a></li><li class="dropdown-subitem"><a href="/front/base/JS练习/01.html" class="nav-link">
  JS练习
</a></li><li class="dropdown-subitem"><a href="/front/base/网络基础/01.html" class="nav-link">
  网络基础
</a></li><li class="dropdown-subitem"><a href="/books/JS高级程序设计/01.html" class="nav-link">
  JS高级程序设计
</a></li><li class="dropdown-subitem"><a href="/front/base/浏览器相关基础/01.html" class="nav-link">
  浏览器相关基础
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="电子" class="dropdown-title"><span class="title">电子</span> <span class="arrow down"></span></button> <button type="button" aria-label="电子" class="mobile-dropdown-title"><span class="title">电子</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          STM32
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/电子/STM32四轴飞行器/01.html" class="nav-link">
  STM32四轴飞行器
</a></li></ul></li><li class="dropdown-item"><h4>
          Arduino
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/电子/Arduino墙画机/01.html" class="nav-link">
  Arduino墙画机
</a></li><li class="dropdown-subitem"><a href="/电子/Arduino四轴飞行器/01.html" class="nav-link">
  Arduino四轴飞行器
</a></li><li class="dropdown-subitem"><a href="/电子/Arduino四足仿生机器人/01.html" class="nav-link">
  Arduino四足仿生机器人
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><span class="title">关于</span> <span class="arrow down"></span></button> <button type="button" aria-label="关于" class="mobile-dropdown-title"><span class="title">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/关于我/01.html" class="nav-link">
  关于我
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/fangfeiyue" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/深入浅出Vue.js/01.html" class="nav-link">
  深入浅出Vue
</a></li><li class="dropdown-subitem"><a href="/front/vue/vue/01.html" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/front/vue/vue-router/01.html" class="nav-link">
  VueRouter
</a></li><li class="dropdown-subitem"><a href="/front/vue/Vuex/01.html" class="nav-link">
  Vuex
</a></li><li class="dropdown-subitem"><a href="/front/vue/vue3/01.html" class="nav-link">
  Vue3核心剖析
</a></li><li class="dropdown-subitem"><a href="/front/vue/Vue知识点简单梳理/01.html" class="nav-link">
  Vue知识点简单梳理
</a></li></ul></li><li class="dropdown-item"><h4>
          React
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/books/深入React技术栈/01.html" class="nav-link">
  深入React技术栈
</a></li><li class="dropdown-subitem"><a href="/front/react/React进阶实践指南/01.html" class="nav-link">
  React进阶实践指南
</a></li><li class="dropdown-subitem"><a href="/front/react/React知识点简单梳理/01.html" class="nav-link">
  React知识点简单梳理
</a></li></ul></li><li class="dropdown-item"><h4>
          混合开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/混合开发/01.html" class="nav-link">
  混合开发探究
</a></li></ul></li><li class="dropdown-item"><h4>
          TypeScript
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/ts/极简入门Typescript/01.html" class="nav-link">
  极简入门Typescript
</a></li></ul></li><li class="dropdown-item"><h4>
          Webpack
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/webpack/极简入门webpack/01.html" class="nav-link">
  极简入门
</a></li><li class="dropdown-subitem"><a href="/front/webpack/常见面试题/01.html" class="nav-link">
  常见面试题
</a></li></ul></li><li class="dropdown-item"><h4>
          设计模式
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/设计模式/JS设计模式核心原理和应用实践/01.html" class="nav-link">
  JS设计模式核心原理和应用实践
</a></li></ul></li><li class="dropdown-item"><h4>
          算法和数据结构
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/算法和数据结构/入门级算法/01.html" class="nav-link">
  入门级算法
</a></li><li class="dropdown-subitem"><a href="/front/算法和数据结构/常见算法/01.html" class="nav-link">
  常见算法
</a></li><li class="dropdown-subitem"><a href="/front/算法和数据结构/常见数据结构/01.html" class="nav-link">
  常见数据结构
</a></li><li class="dropdown-subitem"><a href="/front/算法和数据结构/前端算法与数据结构/01.html" class="nav-link">
  前端算法与数据结构
</a></li></ul></li><li class="dropdown-item"><h4>
          基础必备
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front/base/html必备/01.html" class="nav-link">
  HTML必备
</a></li><li class="dropdown-subitem"><a href="/front/base/CSS必备/01.html" class="nav-link">
  CSS必备
</a></li><li class="dropdown-subitem"><a href="/front/base/JS基础/01.html" class="nav-link">
  JS基础
</a></li><li class="dropdown-subitem"><a href="/front/base/JS进阶/01.html" class="nav-link">
  JS进阶
</a></li><li class="dropdown-subitem"><a href="/front/base/JS练习/01.html" class="nav-link">
  JS练习
</a></li><li class="dropdown-subitem"><a href="/front/base/网络基础/01.html" class="nav-link">
  网络基础
</a></li><li class="dropdown-subitem"><a href="/books/JS高级程序设计/01.html" class="nav-link">
  JS高级程序设计
</a></li><li class="dropdown-subitem"><a href="/front/base/浏览器相关基础/01.html" class="nav-link">
  浏览器相关基础
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="电子" class="dropdown-title"><span class="title">电子</span> <span class="arrow down"></span></button> <button type="button" aria-label="电子" class="mobile-dropdown-title"><span class="title">电子</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          STM32
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/电子/STM32四轴飞行器/01.html" class="nav-link">
  STM32四轴飞行器
</a></li></ul></li><li class="dropdown-item"><h4>
          Arduino
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/电子/Arduino墙画机/01.html" class="nav-link">
  Arduino墙画机
</a></li><li class="dropdown-subitem"><a href="/电子/Arduino四轴飞行器/01.html" class="nav-link">
  Arduino四轴飞行器
</a></li><li class="dropdown-subitem"><a href="/电子/Arduino四足仿生机器人/01.html" class="nav-link">
  Arduino四足仿生机器人
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><span class="title">关于</span> <span class="arrow down"></span></button> <button type="button" aria-label="关于" class="mobile-dropdown-title"><span class="title">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/关于我/01.html" class="nav-link">
  关于我
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/fangfeiyue" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>VUE知识点简单梳理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/front/vue/Vue知识点简单梳理/01.html" class="active sidebar-link">常见知识点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#v-show和v-if的区别" class="sidebar-link">v-show和v-if的区别</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#为何在v-for中使用key" class="sidebar-link">为何在v-for中使用key</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#描述vue组件的生命周期-包括父子组件" class="sidebar-link">描述vue组件的生命周期（包括父子组件）</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#错误捕获" class="sidebar-link">错误捕获</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#errorhandler" class="sidebar-link">errorHandler</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#父组件怎么监听子组件生命周期" class="sidebar-link">父组件怎么监听子组件生命周期</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#vue组件如何通信" class="sidebar-link">Vue组件如何通信</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#描述组件渲染和更新过程" class="sidebar-link">描述组件渲染和更新过程</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#虚拟dom的优缺点" class="sidebar-link">虚拟DOM的优缺点</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#真实的-dom-依赖于平台-而虚拟-dom-的本质是-js-对象-相对而言可以更方便的进行跨平台操作-如服务端渲染、混合开发等" class="sidebar-link">真实的 DOM 依赖于平台，而虚拟 DOM 的本质是 JS 对象，相对而言可以更方便的进行跨平台操作，如服务端渲染、混合开发等；</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#如何将组件所有的props传递给子组件" class="sidebar-link">如何将组件所有的props传递给子组件</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#如何自己实现v-model" class="sidebar-link">如何自己实现v-model</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#多个组件有相同的逻辑-如何抽离" class="sidebar-link">多个组件有相同的逻辑，如何抽离</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#何时使用异步组件" class="sidebar-link">何时使用异步组件</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#什么时候使用keep-alive" class="sidebar-link">什么时候使用keep-alive</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#什么时候使用beforedestory" class="sidebar-link">什么时候使用beforeDestory</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#什么是作用域插槽" class="sidebar-link">什么是作用域插槽</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#vuex中action和mutation的区别" class="sidebar-link">vuex中action和mutation的区别</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#vue-router常用的路由模式" class="sidebar-link">Vue-router常用的路由模式</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#如何配置vue-router异步加载" class="sidebar-link">如何配置vue-router异步加载</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#用vnode描述一个dom结构" class="sidebar-link">用Vnode描述一个DOM结构</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#监听data变化的核心api是什么" class="sidebar-link">监听data变化的核心API是什么</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#vue如何监听数组变化" class="sidebar-link">Vue如何监听数组变化</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#描述响应式原理" class="sidebar-link">描述响应式原理</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#diff算法的时间复杂度" class="sidebar-link">diff算法的时间复杂度</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#简述diff算法过程" class="sidebar-link">简述diff算法过程</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#vue为什么是异步渲染-nexttick有什么用" class="sidebar-link">Vue为什么是异步渲染，$nextTick有什么用</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#vue常见性能优化" class="sidebar-link">Vue常见性能优化</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#双向数据绑定v-model的实现原理" class="sidebar-link">双向数据绑定v-model的实现原理</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#对mvvm的理解" class="sidebar-link">对MVVM的理解</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#computed有什么特点" class="sidebar-link">computed有什么特点</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#为何data必须是一个函数" class="sidebar-link">为何data必须是一个函数</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#ajax请求应该放在哪个生命周期" class="sidebar-link">ajax请求应该放在哪个生命周期</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#如何理解ref-toref-和-torefs" class="sidebar-link">如何理解ref toRef 和 toRefs</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#toref和torefs如何使用" class="sidebar-link">toRef和toRefs如何使用</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#ref-toref和torefs的最佳使用方式" class="sidebar-link">ref toRef和toRefs的最佳使用方式</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#为什么需要用-ref" class="sidebar-link">为什么需要用 ref</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#vue3升级了哪些重要功能" class="sidebar-link">vue3升级了哪些重要功能</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#composition-api-如何实现逻辑复用" class="sidebar-link">Composition API 如何实现逻辑复用</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#proxy-和-object-defineproperty-对比" class="sidebar-link">Proxy 和 Object.defineProperty 对比</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#vue3如何实现响应式" class="sidebar-link">Vue3如何实现响应式</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#vite-为什么启动非常快" class="sidebar-link">Vite 为什么启动非常快</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#watch和watcheffect的区别" class="sidebar-link">watch和watchEffect的区别</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#setup中如何获取组件实例" class="sidebar-link">setup中如何获取组件实例</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#composition-api-和-react-hooks-的对比" class="sidebar-link">Composition API 和 React Hooks 的对比</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#vue3为什么比vue2快" class="sidebar-link">Vue3为什么比Vue2快</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#监听data变化的核心api是什么-2" class="sidebar-link">监听data变化的核心API是什么</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#vue如何监听数组变化-2" class="sidebar-link">vue如何监听数组变化</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#如何用js实现hash路由" class="sidebar-link">如何用JS实现hash路由</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#如何用js实现h5-history路由" class="sidebar-link">如何用JS实现H5 history路由</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#vue组件是如何渲染和更新的" class="sidebar-link">vue组件是如何渲染和更新的</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#vue组件异步渲染" class="sidebar-link">vue组件异步渲染</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#vdom和diff算法" class="sidebar-link">Vdom和diff算法</a></li><li class="sidebar-sub-header"><a href="/front/vue/Vue知识点简单梳理/01.html#模板编译前置知识点-with语法" class="sidebar-link">模板编译前置知识点-with语法</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="v-show和v-if的区别"><a href="#v-show和v-if的区别" class="header-anchor">#</a> v-show和v-if的区别</h2> <p>v-show：通过css display控制元素显示和隐藏，元素依然保留在DOM节点中</p> <p>v-if：元素真正的渲染和销毁，会在DOM节点中把元素移除和新增，而不是显示和隐藏</p> <p>频繁切换显示状态用v-show，否则用v-if，利于性能优化</p> <h2 id="为何在v-for中使用key"><a href="#为何在v-for中使用key" class="header-anchor">#</a> 为何在v-for中使用key</h2> <p>diff算法中通过tag和key来判断，是否是通一个节点，减少渲染次数，提升渲染性能</p> <h2 id="描述vue组件的生命周期-包括父子组件"><a href="#描述vue组件的生命周期-包括父子组件" class="header-anchor">#</a> 描述vue组件的生命周期（包括父子组件）</h2> <table><thead><tr><th>生命周期</th> <th>描述</th></tr></thead> <tbody><tr><td>beforeCreate</td> <td>在实例初始化之后,进行数据侦听和事件/侦听器的配置之前同步调用。</td></tr> <tr><td>created</td> <td>在实例创建完成后被立即同步调用。在这一步中，实例已完成对选项的处理，意味着以下内容已被配置完毕：数据侦听、计算属性、方法、事件/侦听器的回调函数。然而，挂载阶段还没开始，且 $el property 目前尚不可用。</td></tr> <tr><td>beforeMount</td> <td>在挂载开始之前被调用：相关的 render 函数首次被调用。</td></tr> <tr><td>mounted</td> <td>实例被挂载后调用，这时 <code>el</code> 被新创建的 <code>vm.$el</code> 替换了。如果根实例挂载到了一个文档内的元素上，当 <code>mounted</code> 被调用时 <code>vm.$el</code> 也在文档内。注意 <code>mounted</code> 不会保证所有的子组件也都被挂载完成。如果你希望等到整个视图都渲染完毕再执行某些操作，可以在 <code>mounted</code> 内部使用 <code>vm.$nextTick</code></td></tr> <tr><td>beforeUpdate</td> <td>在数据发生改变后，DOM 被更新之前被调用。这里适合在现有 DOM 将要被更新之前访问它，比如移除手动添加的事件监听器。</td></tr> <tr><td>updated</td> <td>在数据更改导致的虚拟 DOM 重新渲染和更新完毕之后被调用。当这个钩子被调用时，组件 DOM 已经更新，所以你现在可以执行依赖于 DOM 的操作。注意，updated 不会保证所有的子组件也都被重新渲染完毕。如果你希望等到整个视图都渲染完毕，可以在 updated 里使用 vm.$nextTick</td></tr> <tr><td>beforeDestroy</td> <td>实例销毁之前调用。在这一步，实例仍然完全可用。</td></tr> <tr><td>destroyed</td> <td>实例销毁后调用。该钩子被调用后，对应 Vue 实例的所有指令都被解绑，所有的事件监听器被移除，所有的子实例也都被销毁。</td></tr></tbody></table> <p><img src="/assets/img/1.720ded4e.jpeg" alt=""></p> <p>父子组件生命周期关系：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// src/App.vue

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  {{ count }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isShow<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:count1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>count1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">&quot;./Child.vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span> Child <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      count<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      count1<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      isShow<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;parent ~ beforeCreate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;parent ~ created&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;parent ~ beforeMount&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;parent ~ mounted&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>count1 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>isShow <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">7000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;parent ~ beforeUpdate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;parent ~ updated&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;parent ~ beforeDestroy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;parent ~ destroyed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>child-{{ count }} || {{ count1 }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;child&quot;</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;count1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      count<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;child ~ beforeCreate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;child ~ created&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;child ~ beforeMount&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;child ~ mounted&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;child ~ beforeUpdate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;child ~ updated&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;parent ~ beforeDestroy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;parent ~ destroyed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>首次加载时生命周期执行的顺序：</p> <p>运行结果：</p> <p><img src="/assets/img/2.e2b0cc1b.png" alt=""></p> <p>只是子组件中的数据更新：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>只是父组件中的数据更新，不影响子组件：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>父组件中的数据更新，影响到了子组件：</p> <p><img src="/assets/img/4.08a67f34.png" alt=""></p> <p>组件销毁：</p> <p><img src="/assets/img/6.40870f4a.png" alt=""></p> <h2 id="错误捕获"><a href="#错误捕获" class="header-anchor">#</a> 错误捕获</h2> <h3 id="errorcaptured"><a href="#errorcaptured" class="header-anchor">#</a> errorCaptured</h3> <p>详细含义请查阅官网 <a href="https://cn.vuejs.org/v2/api/#errorCaptured" target="_blank" rel="noopener noreferrer">errorCaptured<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</p> <p>在捕获一个来自后代组件的错误时被调用。此钩子会收到三个参数：错误对象、发生错误的组件实例以及一个包含错误来源信息的字符串。此钩子可以返回 false 以阻止该错误继续向上传播。</p> <p>示例：</p> <p>src/Child.vue</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>src/App.vue</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">&quot;./Child.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    Child<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">errorCaptured</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> vm<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> vm<span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>运行代码后，可以看到控制台打印出了报错信息：</p> <p><img src="/assets/img/7.50a4edee.png" alt=""></p> <h2 id="errorhandler"><a href="#errorhandler" class="header-anchor">#</a> errorHandler</h2> <p><a href="https://cn.vuejs.org/v2/api/#errorHandler" target="_blank" rel="noopener noreferrer">errorHandler<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 指定组件的渲染和观察期间未捕获错误的处理函数。这个处理函数被调用时，可获取错误信息和 Vue 实例。</p> <p>还是上面的代码，我们把 App.vue 中捕获错误的代码删掉，在 main.js 中加入 errorHandler 方法，用于捕获错误。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function-variable function">errorHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> vm<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> vm<span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>可以看到浏览器控制台打印出了捕获的错误信息：</p> <p><img src="/assets/img/8.fcad97d3.png" alt=""></p> <p>细心的读者可能看到了，上面的代码我们只测试了同步代码报错，如果是异步代码呢？</p> <p>src/Child.vue</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>src/App.vue</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">&quot;./Child.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    Child<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">errorCaptured</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> vm<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> vm<span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>src/main.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function-variable function">errorHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> vm<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> vm<span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>运行代码，可以看到，这两个方法都捕获不到定时器中的错误：</p> <p><img src="/assets/img/9.141eab73.png" alt=""></p> <p>来看下接口请求：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&quot;axios&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    axios
      <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.0.104:8083/index.html1&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;res&quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// console.log(err);</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>控制台输出：</p> <p><img src="/assets/img/10.c6f6e3a5.png" alt=""></p> <p>可以看到捕获不到 Promise 里的报错。</p> <p>改成 async 和 await 形式的接口请求：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&quot;axios&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.0.104:8083/index.html1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;res&quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>控制台输出结果如下：</p> <p><img src="/assets/img/11.8911eff3.png" alt=""></p> <p>可以看到可以捕获 async、await 方法里的报错。</p> <p><code>errorHandler</code> 从 2.6.0 起，这个钩子也会捕获 v-on DOM 监听器内部抛出的错误。另外，如果任何被覆盖的钩子或处理函数返回一个 Promise 链 (例如 async 函数)，则来自其 Promise 链的错误也会被处理。</p> <p>所以，如果我们要在代码中要上报项目错误的时候，不能完全依赖这两个函数，还需配合其他的方式，一起处理上报。</p> <h2 id="父组件怎么监听子组件生命周期"><a href="#父组件怎么监听子组件生命周期" class="header-anchor">#</a> 父组件怎么监听子组件生命周期</h2> <p>可以在调用的组件上添加 @hook:[生命周期方法]= “[回调函数]” 来实现，具体代码如下：</p> <p>src/Child.vue</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>child<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>src/App.vue</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name"><span class="token namespace">@hook:</span>mounted</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>callback<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">&quot;./Child.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    Child<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;子组件生命周期执行了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>可以看到控制台输出了：</p> <p><img src="data:image/png;base64,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" alt=""></p> <h2 id="vue组件如何通信"><a href="#vue组件如何通信" class="header-anchor">#</a> Vue组件如何通信</h2> <p>Vue  组件间的通信大概可以分为三类：</p> <ul><li>父子组件通信</li></ul> <p>props、 $parent / $children、 provide / inject 、 ref 、$attrs / $listeners</p> <ul><li>兄弟组件通信</li></ul> <p>eventBus ; vuex</p> <ul><li>隔代组件通信</li></ul> <p>eventBus、Vuex；provide / inject 、$attrs / $listeners</p> <p>下面我们来详细介绍下：</p> <h3 id="props-和-emit"><a href="#props-和-emit" class="header-anchor">#</a> props 和 $emit</h3> <p>父组件通过 props 将数组传给子组件；子组件通过 $emit 给父组件发送消息</p> <p>父组件：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@changeAge</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeAge<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    {{ age }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">&quot;./Child.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    Child<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">,</span>
      age<span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">changeAge</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> ev<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeAge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">changeAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;changeAge&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="eventbus"><a href="#eventbus" class="header-anchor">#</a> EventBus</h3> <p>事件总线的方式适合父子、兄弟、跨级组件的通信。</p> <p>下面是一个简单的 demo：</p> <p>父组件：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// src/App.vue

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child-1</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child-2</span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child1 <span class="token keyword">from</span> <span class="token string">&quot;./Child.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Child2 <span class="token keyword">from</span> <span class="token string">&quot;./Child2.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    Child1<span class="token punctuation">,</span>
    Child2<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件1：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// src/Child1.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>send<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>child1：{{ info }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> EventBus <span class="token keyword">from</span> <span class="token string">&quot;./bus/index&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      info<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    EventBus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">&quot;receiveInfoChild2&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>info <span class="token operator">=</span> info<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      EventBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;receiveInfoChild1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;I love you&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件2：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// src/Child2.vue

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>send<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>child2： {{ info }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> EventBus <span class="token keyword">from</span> <span class="token string">&quot;./bus/index&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      info<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    EventBus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">&quot;receiveInfoChild1&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>info <span class="token operator">=</span> info<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      EventBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;receiveInfoChild2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;I love you, too.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>效果如下：</p> <p><img src="/assets/img/1.190c0520.gif" alt=""></p> <p>使用 EventBus 代码可读性、维护性都比较低。</p> <h3 id="attrs-和-listeners"><a href="#attrs-和-listeners" class="header-anchor">#</a> $attrs 和 $listeners</h3> <ul><li>$attrs：包含了父作用域中不被 prop 所识别 (且获取) 的特性绑定 ( class 和 style 除外 )。当一个组件没有声明任何 prop 时，这里会包含所有父作用域的绑定 ( class 和 style 除外 )，并且可以通过 v-bind=&quot;$attrs&quot; 传入内部组件。通常配合 inheritAttrs 选项一起使用。</li> <li>$listeners：包含了父作用域中的 (不含 .native 修饰器的)  v-on 事件监听器。它可以通过 v-on=&quot;$listeners&quot; 传入内部组件</li></ul> <p>demo 如下：</p> <p>父组件：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// src/App.vue

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span>
      <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:age</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:score</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">sex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>man<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">&quot;./Child.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    Child<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">,</span>
      age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
      socre<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;来自child2传递过来的数据：&quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件1：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// src/Child.vue

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child2</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$attrs<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-on</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$listeners<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child2 <span class="token keyword">from</span> <span class="token string">&quot;./Child2.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    Child2<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  inheritAttrs<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;child1 $attrs ~ &quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$attrs<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;child1 $listeners ~ &quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$listeners<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件2：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// src/Child2.vue

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>child2 {{ $attrs.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;sex&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  inheritAttrs<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;child2 $attrs ~ &quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$attrs<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;child2 $listeners ~ &quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$listeners<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$listeners<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token string">&quot;你好呀，爷爷组件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>运行效果如下：</p> <p><img src="/assets/img/14.336b722f.png" alt=""></p> <p>从上图可以看到由于 child2 设置的 props 属性中含有 sex，所以 child2 并没有在控制台输出 sex，child1 输出了 sex ，这也就印证了 $attrs：包含了父作用域中不被 prop 所识别 (且获取) 的特性绑定 。</p> <h3 id="provide-和-inject"><a href="#provide-和-inject" class="header-anchor">#</a> provide 和 inject</h3> <p>祖先组件中通过provider来提供变量，然后在子孙组件中通过inject来注入变量。示例代码如下：</p> <p>父组件：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// src/App.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">&quot;./Child.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    Child<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  provide<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;fang&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件1：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// src/Child.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child2</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child2 <span class="token keyword">from</span> <span class="token string">&quot;./Child2.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    Child2<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件2：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// src/Child2.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>child2接收到的数据 - {{ name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  inject<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>效果如下：</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAwAAAABVCAMAAADJ9HNlAAADAFBMVEX///8AAAD///oCAQL/+uv+///v/P//9+j///725tIfBADi4uO+0eS5pYkAAQrd7fuVlJNbW1omP1AOAgK5zN57nr4yNDUrKSctGyA1KhkIAgL6/v/0/v/y+f7++/etyNyVs8nt2MSxlHOZfV5AMh8WBAH//vLd3Nvax7b9/f33+v359fL37uXo5uWxzN5ig66enZ1MbZxFRUVXKyAnDQL49/fC1ufV1tj66teiuc7iybDcxK2sq6t+e3k6UG4qRmZTVlcONlUbL0BAPz9PQzk7Lx0dGxoKCxAvGgzu8vb/+vLx8fHR3+rI2urk5unr4Nbv3Mjg0L9IaZhOYIaig2IeO1pKTFAhNk18Y0gDIT1wRTQeIi83Hwjv+f/r9//x9vr///fl7vfa5/Xq7vD79e718u6mwdbV0Muat8t8oMC+vr+4tbfNwrSWoK1ae6etoZrCrJSJi5CHg4Orlnk1RmQlLkMiKy9nPSwKGCsJFCFJKhcaFQ8kFgX3/v/i6PDv6uTR2eHz59y4yNnf2NLBydLl3NCywdDm1sPCvLenpKjKu6fKtKCMioiwmoJvb29FV25aXWdiY2FSTEhyUTcwHSQFBSIXGyEBBRc5HRb3+vry7+va3eDE0d7t5Nyvt8CYpbh0mLemqK3ZwKuyrKWZmppVdZNfcJC+qo9CWHxWZnatjWxmZ2pCV2d9b2BvZV2ZdVcvRFdTUFCRbk8vOkOMZT5/WTZKNSMzJxUUDgjS4PL98uTP0tj04cy8wsiQrcjHxcaNor3Tx7yjrbe7q6CWl5x1hptmdoOii3anhm6KeG1BUFyIbFNkWkwPH0QSKEFfTj4PHjViNywjIiAjEhkTFBYrHxWruM2gscjgzLausLR5lbHDtKu7sKnSuJ+NlJ1fdpqZmZmBjpikmZF6h5FSaY2YkoiBhoi5noIBHDdlSjZFPDJVNh49Khbi8f3Y4+7Y4ei6xNGCp8SbtMNhgp6uoo1gbH6Zgnh0c3RIX3RoX1gJMFA4P0Y0Kzxziq2epqqOg27pFFsLAAAIgUlEQVR42uzaV1ATURSA4XMTQgJIIIKgIaASY0JTVEBRmoCANMECKKioKCoiqIAgVkCa0hWw995777333nvvvXt3A7ZBZ5RRx/F8D3d2lszOPuzP3gMBhBBCCCGEEEIIIYQQQgihL43uBJSRfCCUMuvEg84aBvAtjkVTZtVoz3xGwxRKGLGHo315n66H0L/DeK4qXT1vXYVS0fSMZqAWMIZmZNjZZWRkrKM98F0fAUCDGrZ0Hba/IzBU5lWt/lZrxjYwdmgLrJ3TYfUUy4tTKcsUQOivGTI/CVhG6et4nrs2glJarjdAWJRIdH4gULMDJZ678vL6C3OzRbagMl+XPvyqgqUxBsDIdLlNiuoGuGwf1Lsjf0UlAGg0chVdFzgqf86ROiqCN4RshMUzQUk6E9aq6y0KCAjIl/WEsoWdnRrZFBD6rarLqgHLT9b6nsrd5qA0mdQC81skd766szeYWUidvcMuu+4ePnw+d1YS8FdUA82Kqvx+CSJRnmjbADA5Kas2aGsHE7UjFVSqVIKw9KD4zRFN+XdjIiJORTwAa8WzLcGWufeN+h6cM2fOlQFmFosdfP36VwXGsu8EwFlA3uR0AIR+q+rqJQGEPY80UKlRB5QacXVhp9AWwN9qGtxw0yH7VtHf3zwwPngPgN+kKw1AMlnHSSTiOl+RQGiBo2St1ROeWmU2ADWrOBd9rs85bpy+vj7pCZMr6yWSOH0HefHu7CoJl3gz3HS4hXYhu7OzX7zItvpOAKH1rgJCv415VO9e401pAI83De/1kAeC8MHABiDoMfz6QwVXN7Qes4Ph9HXgjQtf6pziZTFMbDs05KpFp5IARi1zHAA1m6wHEGS563ZODuLWalASwIgka78RKX0dOnl5ja7XE8ySg4Rc581jholtoGULgEHhy2LWpHnMtbfvH2tvfxzK4Jk+pXhmxLoBnE3avc8PBjCP8D0zvNdYABDQ2x0/Oh3fDahcxrkKnVxJC8PqVnrBomPcjfRJb84GwOlDloiOLdLRrWnPDAT8fjN5ALMrgsLtKDmaSIrcciRsAAt7iB3bQgOPLgDRhKunp1e3SqvkEcoAKttAg7f2QhsACD00EYyyCq8dExVOkJL1sLQnUDQDNWYLtKw2lG31AX2SoPey/Q4uvZmi4/SN5BYs6i+0BQ5z5nAAtyog9Os4QSOTgKNJuqy12ucDQ+4EtuO0UQZwUnzBENJChLrKz+0gzBbJ2HlS/fr1t8xJoesYHhvAEte4o11g8kgfAEXvSd0vp45S5IaXBpDqlVb5VEYUvUbNQ93AWGhbPbjjFstitxZGdyayAeRs8PeIc3KyindatL0tlMHavF9ta+vqsgumYH7HUdJQp1VHGBriOKCheHp7aLac1AKEfp2aVW268nel+qkzT+Tsm1qlAbS8qQUAN7hsAOa7yHQJCJoFkZGpcnnQ/rFyuXyMqXILNH5wgaPBglZtgdW3G11KZ4CQQn23IpvQgtar2ADGrRHMe2IAfgFTYsM9qgIIxgWR+HSP7dra/WK0tSMNoSw169E7NJObWnt5SV+rNhQzHUobS5S3dw4DQOWffZUHXelq3PpTAEsrqpYMwQD+y4WnTYGzYCVx9s5yX0m47u4r3fetUmliywzB0Eh83YPJx3OKpWWxg6Xl/dIZoPKE+plHKsCQfg5tQ2kA/nl7SVxe3gQv/vL8WC2AlolkoXejeK2vtkCTXeqyZrX7IgDwf0Xn6MRWqg11mCe+T2PDBY2Z4vzUcQuEyh+AwKIpPfgmgMBPAQxTD0wCastmaUVJ5+R6OWPkM4QnmDfAtsvFC1WBs4cc7AgAKvNdXGTBdV1qfQrABughvQqppNKkGwzV9gjcek3nAoAxmcYDODN+TwuYEWjn5KQe75TrAwz6IaVIwy8C8LdaOL6+XNqYBlBVGYD0NRNIQzEGgMqjQcg0uqrdfbT22wCMmV097KQBKNRftgOl2fS1cI5MHyjYw2x5/GVkyW0aAGSR2A5AmZh49p1oYgJqR0r+ClQSgGBKBf6KbgBp6ushOsGHJkVOQ8kQvDjnafxWS8trOl3g+1ugPiNpYJyCzwFIoskJAKM9uAVC5SKQciObNgsq8vH7NgA/q5jB1tHqQl1OQdGE7lSKgTKAQVGuhflCW2YymLTGcAY9Ey0LWOnQQXk9OgOY+YZFdOAzAXhsv/jBvQJQ7D/NINM1bpHOO6B7osPxNkBJW3j2O60ZwzznVX4UwA3hCdNm80irTwG04x/gXrHbW+iOAaByCZvHDU48+Jj3xQxQB1SW9wToEeKuf9T+iC6/BmExM0FLZun8VIeQuUk8YGhW7LSDzDLMFDsMBJPOGj2KY/MPM18YWr2CCeDNIlch8wYw4SlkVQGMosWE7E4d1GafvMDZmw3gpNhG03mSnV1U4o8CGHJAqO+WM+/zDNAOPJ+76D1L749bIFQ+nOTuGwYCGLHf2+zsayAY1ImZCQDAfMM6DROLURwLDZYvT5EvixkwLN9NOCulxwHuNEM2gITb3G30KFMW20HzcKJYzyn7/WCTnQGuZD3dAlUAc3tvWsNel5X7O4KmvvusseF7Y2skjIUhy/dr+b+STV/cSpJF9ChSdgAl92IW3r2+gZkvj36xlL1NXjO7dkaj6IiCbwD0xzTr3csHMuds1uDRYM5OMABq0/moVGAoehkOPbVGoykPqDPXe0e2p1GNAlboWe3IBwA9Lg3m0eK8osYyF9tqSK/nrThOT7e3tja3t4GfkUamtYdxt1prAUL/IUGWOLhu/wRbQOj/lGx3cdJAQAghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIfWQPDgQAAAAAgPxfG0FVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWkPDgQAAAAABPlbD7BCBQAAAMAEdGZ60PjpZkcAAAAASUVORK5CYII=" alt=""></p> <h3 id="children-和-parent"><a href="#children-和-parent" class="header-anchor">#</a> $children 和 $parent</h3> <p>这个方法只能在父子组件中使用，且并不推荐使用。</p> <p>父组件：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// src/App.vue

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">&quot;./Child.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    Child<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;父组件获取子组件的name属性&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// src/Child.vue

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;子组件获取父组件的age属性&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$parent<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;父组件执行了子组件的方法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>运行效果如下：</p> <p><img src="/assets/img/17.b05cb58c.png" alt=""></p> <h3 id="ref"><a href="#ref" class="header-anchor">#</a> ref</h3> <p>ref 用在普通的 DOM 元素上，指代的是 DOM 节点；用在组件上，指代的是组件实例，这种方式一般也不推荐使用。</p> <p>父组件：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// src/App.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">&quot;./Child.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    Child<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取子组件的方法和事件</span>
    <span class="token keyword">const</span> child1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>child1<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;子组件的name属性值为&quot;</span><span class="token punctuation">,</span> child1<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    child1<span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// src/Child.vue

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;执行了子组件的方法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>效果展示如下：</p> <p><img src="data:image/png;base64,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" alt=""></p> <h3 id="vuex"><a href="#vuex" class="header-anchor">#</a> Vuex</h3> <p>Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。</p> <p>我们先来简要介绍下 Vuex 中核心概念：</p> <ul><li>state：数据来源</li> <li>mutaions：改变 state 的唯一途径，不能用来处理异步操作</li> <li>action：用来处理异步操作，如需修改状态，还是要在内部调用 mutation 才行，不能直接修改。</li> <li>getter：类似 Vue 中的计算属性</li> <li>module：相当于命名空间</li></ul> <p>Vuex 的具体使用可以查阅 <a href="https://vuex.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ，这里不再赘述。</p> <p>下面我们来看下通过 Vuex 怎么实现组件间的通信，这里以兄弟组件为例：</p> <p>父组件：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// src/App.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child-1</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child-2</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Child1 <span class="token keyword">from</span> <span class="token string">&quot;./Child1.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Child2 <span class="token keyword">from</span> <span class="token string">&quot;./Child2.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    Child1<span class="token punctuation">,</span>
    Child2<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件1：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// src/Child1.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>来自child2的打招呼: {{ $store.state.fromChild2Msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;sayHiToChild2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hi child2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>子组件2：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// src/Child2.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>来自child1的打招呼: {{ $store.state.fromChild1Msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;sayHiToChild1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hi child1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在 store 文件夹中新建 index.js 文件，输入以下内容：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// src/store/index.js</span>

<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{</span>
	fromChild1Msg<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
	fromChild2Msg<span class="token operator">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function">sayHiToChild1</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		state<span class="token punctuation">.</span>fromChild2Msg <span class="token operator">=</span> payload<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function">sayHiToChild2</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		state<span class="token punctuation">.</span>fromChild1Msg <span class="token operator">=</span> payload<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span> state<span class="token punctuation">,</span> mutations <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在 main.js 中引入 store：</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-js"><code><span class="token comment">// src/main.js</span>

<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store/index'</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function-variable function">errorHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> vm<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> vm<span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	store<span class="token punctuation">,</span>
	<span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>运行效果：</p> <p><img src="data:image/png;base64,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" alt=""></p> <h2 id="描述组件渲染和更新过程"><a href="#描述组件渲染和更新过程" class="header-anchor">#</a> 描述组件渲染和更新过程</h2> <h2 id="虚拟dom的优缺点"><a href="#虚拟dom的优缺点" class="header-anchor">#</a> 虚拟DOM的优缺点</h2> <p>优点：</p> <ul><li>极大的减少了对真实 DOM 的操作</li></ul> <p>框架会帮助我们更新视图，不用我们自己频繁操作 DOM，可以极大的提升开发效率。</p> <ul><li>更好的跨平台</li></ul> <h2 id="真实的-dom-依赖于平台-而虚拟-dom-的本质是-js-对象-相对而言可以更方便的进行跨平台操作-如服务端渲染、混合开发等"><a href="#真实的-dom-依赖于平台-而虚拟-dom-的本质是-js-对象-相对而言可以更方便的进行跨平台操作-如服务端渲染、混合开发等" class="header-anchor">#</a> 真实的 DOM 依赖于平台，而虚拟 DOM 的本质是 JS 对象，相对而言可以更方便的进行跨平台操作，如服务端渲染、混合开发等；</h2> <p>缺点：</p> <p>虚拟 DOM 在某些极端情况下不一定比真实 DOM 快，举一个例子，就比如我就想在页面上写一个 hello world在，直接使用 document.write('hello world')即可，要是使用框架就繁琐了很多。既然它能够如此流行，对于大多数情况下表现肯定是不错的，能应对我们大多数的开发，个人感觉至于虚拟 DOM 的缺点一般情况根本不用关心。</p> <h2 id="如何将组件所有的props传递给子组件"><a href="#如何将组件所有的props传递给子组件" class="header-anchor">#</a> 如何将组件所有的props传递给子组件</h2> <p>通过$props</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Login</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$props<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><h2 id="如何自己实现v-model"><a href="#如何自己实现v-model" class="header-anchor">#</a> 如何自己实现v-model</h2> <p>v-model 是一个语法糖，在我们使用一些表单输入元素的时候帮我们实现双向数据绑定。v-model 对不同的输入元素绑定不同的属性和方法：</p> <ol><li>text 和 textarea 元素使用 value 属性和 input 事件；</li> <li>checkbox 和 radio 使用 checked 属性和 change 事件；</li> <li>select 字段将 value 作为 prop 并将 change 作为事件。</li></ol> <p>这里以 input 为例：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value = $event.target.value<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    {{ value }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      value<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>展示效果：</p> <p><img src="data:image/png;base64,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" alt=""></p> <h2 id="多个组件有相同的逻辑-如何抽离"><a href="#多个组件有相同的逻辑-如何抽离" class="header-anchor">#</a> 多个组件有相同的逻辑，如何抽离</h2> <p>mixin</p> <h2 id="何时使用异步组件"><a href="#何时使用异步组件" class="header-anchor">#</a> 何时使用异步组件</h2> <p>加载大组件</p> <p>路由异步加载</p> <h2 id="什么时候使用keep-alive"><a href="#什么时候使用keep-alive" class="header-anchor">#</a> 什么时候使用keep-alive</h2> <p>缓存组件， 不需要重复渲染</p> <p>多个静态tab页的切换</p> <p>优化性能</p> <h2 id="什么时候使用beforedestory"><a href="#什么时候使用beforedestory" class="header-anchor">#</a> 什么时候使用beforeDestory</h2> <p>解绑自定义事件event.$off</p> <p>清除定时器</p> <p>解绑自定义DOM事件，如window scroll等</p> <h2 id="什么是作用域插槽"><a href="#什么是作用域插槽" class="header-anchor">#</a> 什么是作用域插槽</h2> <h2 id="vuex中action和mutation的区别"><a href="#vuex中action和mutation的区别" class="header-anchor">#</a> vuex中action和mutation的区别</h2> <p>action中可以处理异步，mutation中不可以</p> <p>mutation一般做原子操作，就是每次做一个操作</p> <p>action可以整合多个mutation</p> <h2 id="vue-router常用的路由模式"><a href="#vue-router常用的路由模式" class="header-anchor">#</a> Vue-router常用的路由模式</h2> <p>路由模式主要分为两类：hash 模式和 H5 history 模式。</p> <p>hash 模式: 使用 URL hash 值来作路由，兼容性好；</p> <p>history 模式: 依赖 HTML5 History API 和服务器配置，兼容性略差，但用户体验好点；</p> <h3 id="hash-模式的实现原理"><a href="#hash-模式的实现原理" class="header-anchor">#</a> hash 模式的实现原理</h3> <p>location.hash 的值就是 url 中 # 后面的值，它有以下特性：</p> <ul><li>hash 值的变化会在浏览器中增加访问记录，可以通过浏览器的前进、后退实现；</li> <li>可以通过 hashchange 事件监听 hash 值的变化，控制页面的渲染</li> <li>hash 值的变化不会向服务器发送请求，不会刷新页面</li></ul> <h3 id="history-模式的实现原理"><a href="#history-模式的实现原理" class="header-anchor">#</a> history 模式的实现原理</h3> <p>history.pushState() 和 history.repalceState()。这两个 API 可以在不进行刷新的情况下，操作浏览器的历史纪录。唯一不同的是，前者是新增一个历史记录，后者是直接替换当前的历史记录。</p> <h2 id="如何配置vue-router异步加载"><a href="#如何配置vue-router异步加载" class="header-anchor">#</a> 如何配置vue-router异步加载</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span> <span class="token punctuation">{</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;cart&quot; */</span><span class="token string">'./comoponents/Cart'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="用vnode描述一个dom结构"><a href="#用vnode描述一个dom结构" class="header-anchor">#</a> 用Vnode描述一个DOM结构</h2> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span>red<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>f<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>对应的Vnode</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  tag<span class="token operator">:</span> <span class="token string">'div'</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    className<span class="token operator">:</span> <span class="token string">'box'</span>
    id<span class="token operator">:</span> <span class="token string">'app'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  children<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      tag<span class="token operator">:</span> <span class="token string">'p'</span>
      children<span class="token operator">:</span> <span class="token string">'hello'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      tag<span class="token operator">:</span> <span class="token string">'ul'</span><span class="token punctuation">,</span>
      props<span class="token operator">:</span> <span class="token punctuation">{</span>
        style<span class="token operator">:</span> <span class="token string">'color:red'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      children<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          tag<span class="token operator">:</span> <span class="token string">'li'</span><span class="token punctuation">,</span>
          children<span class="token operator">:</span> <span class="token string">'f'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="监听data变化的核心api是什么"><a href="#监听data变化的核心api是什么" class="header-anchor">#</a> 监听data变化的核心API是什么</h2> <p>Object.defineProperty</p> <p>深度监听和监听数组</p> <p>有何缺点</p> <h2 id="vue如何监听数组变化"><a href="#vue如何监听数组变化" class="header-anchor">#</a> Vue如何监听数组变化</h2> <p>vu2中重新定义原型，重写push、pop等方法，实现监听</p> <p>vue3中Proxy可以原生监听数组变化</p> <h2 id="描述响应式原理"><a href="#描述响应式原理" class="header-anchor">#</a> 描述响应式原理</h2> <p>监听data变化</p> <p>组件渲染和更新流程</p> <h2 id="diff算法的时间复杂度"><a href="#diff算法的时间复杂度" class="header-anchor">#</a> diff算法的时间复杂度</h2> <p>O(n)</p> <p>在O(n^3)基础上做了一些调整</p> <h2 id="简述diff算法过程"><a href="#简述diff算法过程" class="header-anchor">#</a> 简述diff算法过程</h2> <h2 id="vue为什么是异步渲染-nexttick有什么用"><a href="#vue为什么是异步渲染-nexttick有什么用" class="header-anchor">#</a> Vue为什么是异步渲染，$nextTick有什么用</h2> <p>异步渲染，以提高渲染性能</p> <p>$nextTick在DOM更新后触发回调</p> <h2 id="vue常见性能优化"><a href="#vue常见性能优化" class="header-anchor">#</a> Vue常见性能优化</h2> <p>合理使用v-show和v-if</p> <p>合理使用computed</p> <p>v-for中使用key，避免和v-if同时使用，因为v-for的优先级高些，每次v-for的时候v-if都要重新计算一遍</p> <p>自定义事件、DOM事件要及时销毁</p> <p>合理使用异步组件</p> <p>data层级不要太深</p> <p>使用vue-loader在开发环境做模板编译</p> <p>合理使用keep-alive</p> <p>前端通用的一些性能优化，如图片懒加载等</p> <p>webpack层面的一些优化</p> <h2 id="双向数据绑定v-model的实现原理"><a href="#双向数据绑定v-model的实现原理" class="header-anchor">#</a> 双向数据绑定v-model的实现原理</h2> <p>input元素 value=this.name</p> <p>绑定input事件this.name=$event.target.value</p> <p>data更新触发re-render</p> <h2 id="对mvvm的理解"><a href="#对mvvm的理解" class="header-anchor">#</a> 对MVVM的理解</h2> <p>很久以前就有了组件化的概念asp、jsp时就有了，传统组件只是静态渲染，更新还需要依赖于操作DOM。Vue通过MVVM实现数据驱动视图，React 使用 setState 来实现数据驱动视图。我们不在具体操作 DOM，直接修改 Vue中的数据就行了。Vue 框架本身根据数据重新渲染视图。使用 Vue 开发的时候让我们更加关注数据，更加关注业务逻辑。</p> <p>MVVM分为Model、View、ViewModel三者。</p> <ul><li>Model：代表数据模型，数据和业务逻辑都在Model层中定义；</li> <li>View：代表UI视图，负责数据的展示；</li> <li>ViewModel：就是与界面(view)对应的Model。因为，数据库结构往往是不能直接跟界面控件一一对应上的，所以，需要再定义一个数据对象专门对应view上的控件。而 ViewModel 的职责就是把 model 对象封装成可以显示和接受输入的界面数据对象。</li></ul> <p>Model 和 View 并无直接关联，而是通过 ViewModel 来进行联系的，Model 和 ViewModel 之间有着双向数据绑定的联系。因此当 Model 中的数据改变时会触发 View 层的刷新，View 中由于用户交互操作而改变的数据也会在 Model 中同步。</p> <p>简单的说，ViewModel 就是 View 与 Model 的连接器，View 与 Model 通过 ViewModel 实现双向绑定。View 和 Model 之间的同步工作完全是自动的，无需人为干涉，因此开发者只需关注业务逻辑，不需要手动操作DOM, 不需要关注数据状态的同步问题，复杂的数据状态维护完全由 MVVM 来统一管理。</p> <h2 id="computed有什么特点"><a href="#computed有什么特点" class="header-anchor">#</a> computed有什么特点</h2> <p>具备缓存功能，只要当依赖的属性发生变化时才会重新计算有利于提高性能</p> <h2 id="为何data必须是一个函数"><a href="#为何data必须是一个函数" class="header-anchor">#</a> 为何data必须是一个函数</h2> <p>如果data是对象，每个组件的data 都会是内存的同一个地址,一个数据改变了其他也改变了;
如果data是一个函数时，每个组件实例都有自己的作用域，每个实例相互独立不会相互影响;</p> <h2 id="ajax请求应该放在哪个生命周期"><a href="#ajax请求应该放在哪个生命周期" class="header-anchor">#</a> ajax请求应该放在哪个生命周期</h2> <p>created 和 mounted 是在同一个 tick 中执行的，而ajax 请求的时间一定会超过一个 tick。所以即便ajax的请求耗时是 0ms， 那么也是在 nextTick 中更新数据到 DOM 中。所以说在不依赖 DOM 节点的情况下一点区别都没有</p> <p>如果需要操作 DOM 则放在 mounted 中。</p> <h2 id="如何理解ref-toref-和-torefs"><a href="#如何理解ref-toref-和-torefs" class="header-anchor">#</a> 如何理解ref toRef 和 toRefs</h2> <h3 id="ref-2"><a href="#ref-2" class="header-anchor">#</a> ref</h3> <p>生成值类型的响应数据</p> <p>可用于模板和reactive</p> <p>通过.value修改值</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>ref demo {{ageRef}} {{state.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'Ref'</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> ageRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token comment">// 值类型 响应式</span>
        <span class="token keyword">const</span> nameRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'fang'</span><span class="token punctuation">)</span>

        <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            name<span class="token operator">:</span> nameRef
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ageRef'</span><span class="token punctuation">,</span> ageRef<span class="token punctuation">.</span>value<span class="token punctuation">)</span>

            ageRef<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">25</span> <span class="token comment">// .value 修改值</span>
            nameRef<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'fei'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            ageRef<span class="token punctuation">,</span>
            state
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>模板引用</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>This is a root element<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

      <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// DOM元素将在初始渲染后分配给ref</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// &lt;div&gt;这是根元素&lt;/div&gt;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        root
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="toref和torefs如何使用"><a href="#toref和torefs如何使用" class="header-anchor">#</a> toRef和toRefs如何使用</h2> <p>针对一个响应式对象（reactive封装）的prop</p> <p>创建一个ref，具有响应式</p> <p>两者保持引用关系</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>toRef demo - {{ageRef}} - {{state.name}} {{state.age}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> toRef<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'ToRef'</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            age<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'fang'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token keyword">const</span> age1 <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> state<span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token comment">// // toRef 如果用于普通对象（非响应式对象），产出的结果不具备响应式</span>
        <span class="token comment">// const state = {</span>
        <span class="token comment">//     age: 20,</span>
        <span class="token comment">//     name: 'fei'</span>
        <span class="token comment">// }</span>

        <span class="token keyword">const</span> ageRef <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">)</span>

        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">25</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span>

        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            ageRef<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">30</span> <span class="token comment">// .value 修改值</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>

        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">,</span>
            ageRef
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>toRefs</p> <p>将响应式对象转换为普通对象</p> <p>对象的每个props都对应ref</p> <p>两者保持引用关系</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>toRefs demo {{age}} {{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> toRef<span class="token punctuation">,</span> toRefs<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'ToRefs'</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            age<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'双越'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token keyword">const</span> stateAsRefs <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token comment">// 将响应式对象，变成普通对象</span>

        <span class="token comment">// const { age: ageRef, name: nameRef } = stateAsRefs // 每个属性，都是 ref 对象</span>
        <span class="token comment">// return {</span>
        <span class="token comment">//     ageRef,</span>
        <span class="token comment">//     nameRef</span>
        <span class="token comment">// }</span>

        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">25</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span>

        <span class="token keyword">return</span> stateAsRefs

        <span class="token comment">// 这样结构出来state的值，虽然模板中可以正常使用，但是失去了响应式</span>
        <span class="token comment">// return {</span>
        <span class="token comment">//   ...state</span>
        <span class="token comment">// }</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="ref-toref和torefs的最佳使用方式"><a href="#ref-toref和torefs的最佳使用方式" class="header-anchor">#</a> ref toRef和toRefs的最佳使用方式</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">useFn</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    y<span class="token operator">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// 返回时转换为ref</span>
  <span class="token keyword">return</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 可以在不失去响应式的情况下进行结构</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      x<span class="token punctuation">,</span>
      y
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>最佳使用方式：</p> <ul><li>用reactive做对象的响应式， 用ref做值类型的响应式</li> <li>setup中返回toRefs(state)或者toRef(state, key)</li> <li>ref变量命名都用xxxRef的方式</li> <li>合成函数返回响应式对象时，使用toRefs</li></ul> <h2 id="为什么需要用-ref"><a href="#为什么需要用-ref" class="header-anchor">#</a> 为什么需要用 ref</h2> <p>为什么需要ref？</p> <p>返回值类型，会丢失响应式，如在setup、computed、合成函数，都有可能返回值类型。如果Vue不定义ref用户将自造ref，返回更混乱。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{age}} {{state.age}} - {{age1}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'WhyRef'</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">20</span>

        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            age <span class="token operator">=</span> <span class="token number">30</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span>
        <span class="token comment">// Proxy不能设置值类型</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token comment">// 此时age并不具备响应式</span>
          age
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>为什么需要.value？</p> <p>ref是一个对象（不丢失响应式），value存储值，通过.value属性的get、set实现响应式，用于模板、reactive时不需要.value，其他情况都需要</p> <p>为什么需要toRef和toRefs？</p> <p>在不丢失响应式的情况下，把对象数据分解、扩散。前提是针对响应式对象非普通对象它们不创造响应式，而是延续响应式。</p> <h2 id="vue3升级了哪些重要功能"><a href="#vue3升级了哪些重要功能" class="header-anchor">#</a> vue3升级了哪些重要功能</h2> <p>createApp</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// vue2</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token comment">/*选项*/</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// vue3</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token comment">/*选项*/</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span>
<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>

<span class="token comment">// vue2</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// vue3</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>emits属性</p> <p>生命周期</p> <p>多事件</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>one(), two()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Fragment</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// vue2
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>测试<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>测试结果<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

// vue3
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>测试<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>测试结果<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>移除.sync</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// vu2
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyCmp</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>title.sync</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MyCmp</span><span class="token punctuation">&gt;</span></span>

// vue3
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyCmp</span> <span class="token attr-name"><span class="token namespace">v-model:</span>title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MyCmp</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>异步组件的写法</p> <div class="language-vue extra-class"><pre class="language-vue"><code>new Vue({
  components: {
    'my-component': () =&gt; import('./home.vue')
  }
})


// vue3
import { createApp, defineAsyncComponent } from 'vue'
createApp({
  components: {
    AsyncComponent: defineAsyncComponent(() =&gt; import('./home.vue'))
  }
})
</code></pre></div><p>移除filter</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// 在花括号中
{{message | capitalize}}

// 在v-bindz中
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rawId | formatId<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Teleport</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// 伪代码
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modalOpen = true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>body<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modalOpen<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modal<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modalOpen = false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>teleport</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Suspense</p> <div class="language-vue extra-class"><pre class="language-vue"><code>
</code></pre></div><p>CompositionAPI</p> <h2 id="composition-api-如何实现逻辑复用"><a href="#composition-api-如何实现逻辑复用" class="header-anchor">#</a> Composition API 如何实现逻辑复用</h2> <p>抽离逻辑代码到一个函数</p> <p>函数命名以use开头，如：useXXX</p> <p>在setup中引用useXXX函数</p> <p>useMousePosition.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> onMounted<span class="token punctuation">,</span> onUnmounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">function</span> <span class="token function">useMousePosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        x<span class="token punctuation">.</span>value <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX
        y<span class="token punctuation">.</span>value <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY
    <span class="token punctuation">}</span>

    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'useMousePosition mounted'</span><span class="token punctuation">)</span>
        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> update<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'useMousePosition unMounted'</span><span class="token punctuation">)</span>
        window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> update<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        x<span class="token punctuation">,</span>
        y
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useMousePosition
</code></pre></div><p>MousePosition.vue</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>mouse position {{x}} {{y}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> useMousePosition <span class="token keyword">from</span> <span class="token string">'./useMousePosition'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'MousePosition'</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useMousePosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            x<span class="token punctuation">,</span>
            y
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="proxy-和-object-defineproperty-对比"><a href="#proxy-和-object-defineproperty-对比" class="header-anchor">#</a> Proxy 和 Object.defineProperty 对比</h2> <p>优点：</p> <ul><li>可以直接实现对整个对象的监听，无需通过遍历监听每个属性；</li> <li>可以直接监听对象属性的新增、删除；</li> <li>可以直接监听数组的变化；</li> <li>提供了更多拦截方法，可以实现更多操作；</li></ul> <p>缺点：</p> <p>兼容性不是很好，且不能通过 polyfill 抹平；</p> <h3 id="object-defineproperty"><a href="#object-defineproperty" class="header-anchor">#</a> Object.defineProperty</h3> <p>优点：</p> <p>兼容性相对较好，Proxy 存在浏览器兼容问题，并且无法被 polyfill 抹平；</p> <p>缺点：</p> <ul><li>它只能劫持对象的属性，如果想实现对对象的监控，需要逐个遍历对象的属性；</li> <li>不能监听数组的变化，如果想实现对数组的监听，需要重写数组的方法，但即便重写后直接通过数组索引修改数组元素也检测不到；</li> <li>它不能对 Set、Map 进行监听；</li> <li>不能监听对象属性的新增和删除，只能通过 Vue.set 和 Vue.delete 实现监听；</li></ul> <h2 id="vue3如何实现响应式"><a href="#vue3如何实现响应式" class="header-anchor">#</a> Vue3如何实现响应式</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// const data = {</span>
<span class="token comment">//     name: 'zhangsan',</span>
<span class="token comment">//     age: 20,</span>
<span class="token comment">// }</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span>

<span class="token keyword">const</span> proxyData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 只处理本身（非原型的）属性</span>
        <span class="token keyword">const</span> ownKeys <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ownKeys<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'get'</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token comment">// 监听</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">const</span> result <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span>
        <span class="token keyword">return</span> result <span class="token comment">// 返回结果</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 重复的数据，不处理</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">===</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">const</span> result <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'set'</span><span class="token punctuation">,</span> key<span class="token punctuation">,</span> val<span class="token punctuation">)</span>
        <span class="token comment">// console.log('result', result) // true</span>
        <span class="token keyword">return</span> result <span class="token comment">// 是否设置成功</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">deleteProperty</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">deleteProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'delete property'</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span>
        <span class="token comment">// console.log('result', result) // true</span>
        <span class="token keyword">return</span> result <span class="token comment">// 是否删除成功</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="vite-为什么启动非常快"><a href="#vite-为什么启动非常快" class="header-anchor">#</a> Vite 为什么启动非常快</h2> <p>Vite是一个前端打包工具，Vue作者发起的项目，借助Vue的影响力，发展较快和Webpack竞争</p> <p>优势：开发环境下无需打包，启动快</p> <p>开发环境下使用ES6 Module，无需打包-非常快，无需像webpack打包成ES5再引入</p> <p>生产环境使用rollup并不会快很多</p> <p>浏览器中怎么直接使用ES Module呢？</p> <p>index.html</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>app<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- 基本使用 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">import</span> <span class="token punctuation">{</span> add <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./index.js'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'基本使用'</span><span class="token punctuation">,</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- 外联的方式 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./index.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- 远程引入 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'https://unpkg.com/redux@latest/es/redux.mjs'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'远程引入'</span><span class="token punctuation">,</span> createStore<span class="token punctuation">)</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- 动态引入 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    app<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> add <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./index.js'</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> multi <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./index.js'</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">,</span> multi<span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'动态引入'</span><span class="token punctuation">,</span> add<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> multi<span class="token punctuation">.</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>index.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">multi</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">*</span> b
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'外链引入'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="watch和watcheffect的区别"><a href="#watch和watcheffect的区别" class="header-anchor">#</a> watch和watchEffect的区别</h2> <p>两者都可以监听data属性变化</p> <p>watch需要明确监听哪个属性</p> <p>watchEffect会根据其中的属性，自动监听其变化</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>watch vs watchEffect<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{numberRef}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{name}} {{age}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> toRefs<span class="token punctuation">,</span> watch<span class="token punctuation">,</span> watchEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'Watch'</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> numberRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            name<span class="token operator">:</span> <span class="token string">'双越'</span><span class="token punctuation">,</span>
            age<span class="token operator">:</span> <span class="token number">20</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 初始化时，一定会执行一次（收集要监听的数据）</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello watchEffect'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'state.name'</span><span class="token punctuation">,</span> state<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'state.age'</span><span class="token punctuation">,</span> state<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'state.age'</span><span class="token punctuation">,</span> state<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'state.name'</span><span class="token punctuation">,</span> state<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">25</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'双越A'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
        

        <span class="token comment">// watch(numberRef, (newNumber, oldNumber) =&gt; {</span>
        <span class="token comment">//     console.log('ref watch', newNumber, oldNumber)</span>
        <span class="token comment">// }</span>
        <span class="token comment">// // , {</span>
        <span class="token comment">// //     immediate: true // 初始化之前就监听，可选</span>
        <span class="token comment">// // }</span>
        <span class="token comment">// )</span>

        <span class="token comment">// setTimeout(() =&gt; {</span>
        <span class="token comment">//     numberRef.value = 200</span>
        <span class="token comment">// }, 1500)</span>

        <span class="token comment">// watch(</span>
        <span class="token comment">//     // 第一个参数，确定要监听哪个属性</span>
        <span class="token comment">//     () =&gt; state.age,</span>

        <span class="token comment">//     // 第二个参数，回调函数</span>
        <span class="token comment">//     (newAge, oldAge) =&gt; {</span>
        <span class="token comment">//         console.log('state watch', newAge, oldAge)</span>
        <span class="token comment">//     },</span>

        <span class="token comment">//     // 第三个参数，配置项</span>
        <span class="token comment">//     {</span>
        <span class="token comment">//         immediate: true, // 初始化之前就监听，可选</span>
        <span class="token comment">//         // deep: true // 深度监听</span>
        <span class="token comment">//     }</span>
        <span class="token comment">// )</span>

        <span class="token comment">// setTimeout(() =&gt; {</span>
        <span class="token comment">//     state.age = 25</span>
        <span class="token comment">// }, 1500)</span>
        <span class="token comment">// setTimeout(() =&gt; {</span>
        <span class="token comment">//     state.name = '双越A'</span>
        <span class="token comment">// }, 3000)</span>

        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            numberRef<span class="token punctuation">,</span>
            <span class="token operator">...</span><span class="token function">toRefs</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="setup中如何获取组件实例"><a href="#setup中如何获取组件实例" class="header-anchor">#</a> setup中如何获取组件实例</h2> <p>在setup中和其他的Composition API中是没有this的，通过getCurrentInstance获取当前实例。如果使用的是Options API可照常使用this。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>get instance<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted<span class="token punctuation">,</span> getCurrentInstance <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'GetInstance'</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            y<span class="token operator">:</span> <span class="token number">2</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'this'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span>

        <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'this in onMounted'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span> instance<span class="token punctuation">.</span>data<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token comment">// 1</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token function">getCurrentInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">// setup是created和beforeCreate的合集，这个时候组件还没有正式的初始化，所以打印输出undefined</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span> instance<span class="token punctuation">.</span>data<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'this2'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="composition-api-和-react-hooks-的对比"><a href="#composition-api-和-react-hooks-的对比" class="header-anchor">#</a> Composition API 和 React Hooks 的对比</h2> <p>前者setup只会被调用一次，后者函数(函数组件)会被调用多次</p> <p>前者无需使用useMemo、useCallback，因为setup只调用一次</p> <p>前者无需顾虑调用顺序，后者必须保证hooks顺序一致</p> <p>前者reactive+ref比后者useState难理解</p> <h2 id="vue3为什么比vue2快"><a href="#vue3为什么比vue2快" class="header-anchor">#</a> Vue3为什么比Vue2快</h2> <p>Vue原理大体分为</p> <p>组件化</p> <p>响应式</p> <p>vdom和diff</p> <p>模板编译</p> <p>渲染过程</p> <p>前端路由</p> <h2 id="监听data变化的核心api是什么-2"><a href="#监听data变化的核心api是什么-2" class="header-anchor">#</a> 监听data变化的核心API是什么</h2> <p>组件data的数据一旦变化，立刻触发视图更新。</p> <p>核心API Object.defineProperty</p> <p>Proxy兼容性不太好，且无法polyfill</p> <p>怎么监听数组，怎么监听复杂对象</p> <p>Object.defineProperty的缺点：</p> <p>深度监听需要一次性递归到底，一次性计算量大</p> <p>无法监听新增属性/删除属性（Vue.set、Vue.delete）</p> <p>无法原生监听数组，需要特殊处理</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'f'</span><span class="token punctuation">,</span>
    info<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token string">''</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">updateView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'更新视图'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 深度监听</span>
    <span class="token function">observe</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> value
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">set</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>newValue <span class="token operator">!==</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                
                <span class="token function">observe</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>

                value <span class="token operator">=</span> newValue
                <span class="token function">updateView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">observe</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>target <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> target <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> target

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> target<span class="token punctuation">)</span>
        <span class="token function">defineReactive</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">observe</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>

data<span class="token punctuation">.</span>name
<span class="token comment">// 赋值相同的值不会重新设置</span>
data<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'f'</span>
data<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'ff'</span>
data<span class="token punctuation">.</span>info<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">// 深度监听</span>

<span class="token keyword">delete</span> data<span class="token punctuation">.</span>name <span class="token comment">//</span>
data<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span>
</code></pre></div><h2 id="vue如何监听数组变化-2"><a href="#vue如何监听数组变化-2" class="header-anchor">#</a> vue如何监听数组变化</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
    arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">updateView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'更新视图'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> oldArrPrototype <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
<span class="token keyword">const</span> arrProto <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>oldArrPrototype<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">[</span><span class="token string">'push'</span><span class="token punctuation">,</span> <span class="token string">'pop'</span><span class="token punctuation">,</span> <span class="token string">'shift'</span><span class="token punctuation">,</span> <span class="token string">'unshift'</span><span class="token punctuation">,</span> <span class="token string">'splice'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">methodName</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    arrProto<span class="token punctuation">[</span>methodName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">updateView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        oldArrPrototype<span class="token punctuation">[</span>methodName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">...</span>arguments<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 深度监听</span>
    <span class="token function">observe</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>

    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> value
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">set</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>newValue <span class="token operator">!==</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token function">observe</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>

                value <span class="token operator">=</span> newValue
                <span class="token function">updateView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">observe</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>target <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> target <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> target

    <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span>
        target<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> arrProto

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> target<span class="token punctuation">)</span>
        <span class="token function">defineReactive</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">observe</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>

data<span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="如何用js实现hash路由"><a href="#如何用js实现hash路由" class="header-anchor">#</a> 如何用JS实现hash路由</h2> <p>url组成部分</p> <p>以这个链接为例：http://192.168.0.103:8080/books/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js/01.html?a=1&amp;b=2#%E4%BB%80%E4%B9%88%E6%98%AFvue-js</p> <p>location.protocol -&gt; &quot;http:&quot;</p> <p>location.hostname -&gt; &quot;192.168.0.103&quot;</p> <p>location.host -&gt; &quot;192.168.0.103:8080&quot;</p> <p>location.port -&gt; &quot;8080&quot;</p> <p>location.pathname -&gt; &quot;/books/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVue.js/01.html&quot;</p> <p>location.search -&gt; &quot;?a=1&amp;b=2&quot;</p> <p>location.hash -&gt; &quot;#%E4%BB%80%E4%B9%88%E6%98%AFvue-js&quot;</p> <p>hash变化会触发页面跳转，即浏览器的前进、后退，hash变化不会刷新页面，SPA的特点不需要刷新页面，hash不会提交到server端</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>hash test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>hash test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>修改 hash<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">// hash 变化，包括：</span>
        <span class="token comment">// a. JS 修改 url</span>
        <span class="token comment">// b. 手动修改 url 的 hash</span>
        <span class="token comment">// c. 浏览器前进、后退</span>
        window<span class="token punctuation">.</span><span class="token function-variable function">onhashchange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'old url'</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>oldURL<span class="token punctuation">)</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'new url'</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>newURL<span class="token punctuation">)</span>

            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hash:'</span><span class="token punctuation">,</span> location<span class="token punctuation">.</span>hash<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 页面初次加载，获取 hash</span>
        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hash:'</span><span class="token punctuation">,</span> location<span class="token punctuation">.</span>hash<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token comment">// JS 修改 url</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'#/user'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>hash变化，包括：</p> <ol><li>JS修改url   // location.href = &quot;#/user&quot;</li> <li>手动修改url的hash  //在浏览器地址栏手动修改hash，但是注意如果修改了url的其它部分可能会触发页面刷新，而且会触发前进后退</li> <li>浏览器前进、后退  //在浏览器操作前进后退，会导致hash变化</li></ol> <h2 id="如何用js实现h5-history路由"><a href="#如何用js实现h5-history路由" class="header-anchor">#</a> 如何用JS实现H5 history路由</h2> <p>url规范的路由，跳转时不刷新页面，主要通过history.pushState和window.onpopstate这两个方式实现</p> <p>history需要后端支持</p> <p>toB的情况推荐用hash，简单易用，对url规范不敏感，C端 不考虑 SEO ，搜索引擎优化的话，也可以不用 H5 history</p> <p><code>popstate</code>事件在浏览器的<code>history</code>对象的当前记录发生显式切换时触发。注意，调用<code>history.pushState()</code>或<code>history.replaceState()</code>，并不会触发<code>popstate</code>事件。该事件只在用户在<code>history</code>记录之间显式切换时触发，比如鼠标点击“后退/前进”按钮，或者在脚本中调用<code>history.back()</code>、<code>history.forward()</code>、<code>history.go()</code>时触发。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>history API test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>history API test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>修改 url<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">// 页面初次加载，获取 path</span>
        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> location<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token comment">// 打开一个新的路由</span>
        <span class="token comment">// 【注意】用 pushState 方式，浏览器不会刷新页面</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'page1'</span> <span class="token punctuation">}</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'切换路由到'</span><span class="token punctuation">,</span> <span class="token string">'page1'</span><span class="token punctuation">)</span>
            history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'page1'</span><span class="token punctuation">)</span> <span class="token comment">// 重要！！</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token comment">// 监听浏览器前进、后退</span>
        window<span class="token punctuation">.</span><span class="token function-variable function">onpopstate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 重要！！</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'onpopstate'</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>state<span class="token punctuation">,</span> location<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 需要 server 端配合，可参考</span>
        <span class="token comment">// https://router.vuejs.org/zh/guide/essentials/history-mode.html#%E5%90%8E%E7%AB%AF%E9%85%8D%E7%BD%AE%E4%BE%8B%E5%AD%90</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="vue组件是如何渲染和更新的"><a href="#vue组件是如何渲染和更新的" class="header-anchor">#</a> vue组件是如何渲染和更新的</h2> <p>初次渲染过程</p> <ol><li>解析模板为render函数（开发环境已通过vue-loader完成）</li> <li>触发响应式，监听data属性getter setter</li> <li>执行render函数，生成vnode，执行patch</li></ol> <p>更新过程</p> <ol><li>修改data，触发setter</li> <li>重新执行render函数，生成newVnode</li> <li>patch</li></ol> <p><img src="/assets/img/1.c5ea44bd.png" alt="">
render函数在生成vnode时会触发data里面的getter，并收集依赖，当data被修改时去通知watcher重新render</p> <h2 id="vue组件异步渲染"><a href="#vue组件异步渲染" class="header-anchor">#</a> vue组件异步渲染</h2> <p>汇集data的修改，一次性更新视图，减少DOM操作次数提高性能。</p> <h2 id="vdom和diff算法"><a href="#vdom和diff算法" class="header-anchor">#</a> Vdom和diff算法</h2> <p>vdom是实现Vue的重要基石，diff算法是vdom中最核心、最关键部分</p> <p>DOM操作非常消耗性能，以前用JQ可以自行控制DOM操作的时机手动调整。</p> <p>Vue、React都是数据驱动视图</p> <p>vdom - 用JS模拟DOM结构，计算出最小的变更，操作DOM</p> <p>树diff的时间复杂度为O(n^3) 1.遍历tree1 2.遍历tree2 3.排序</p> <p>优化时间复杂度到O(n)：</p> <p>只比较同一层级，不跨级比较</p> <p>tag不相同则直接删掉重建，不再深度比较</p> <p>tag和key两者都相同，则认为是相同节点，不再深度比较。</p> <h2 id="模板编译前置知识点-with语法"><a href="#模板编译前置知识点-with语法" class="header-anchor">#</a> 模板编译前置知识点-with语法</h2> <p>vue template complier将模板编译成render函数，执行render函数生成vnode</p> <p>使用with，改变{}内自由变量的查找方式，将{}内自由变量，当做obj的属性来查找，如果找不到匹配的属性就会报错 ，with要慎用，它打破了作用域规则，易读性变差。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'f'</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// f</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// undefined</span>

<span class="token keyword">with</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token comment">// f</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token comment">// Uncaught ReferenceError: age is not defined</span>
<span class="token punctuation">}</span>
</code></pre></div><p>参考：</p> <p><a href="https://www.jianshu.com/p/e1ef29c0d826" target="_blank" rel="noopener noreferrer">对MVVM的理解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.cnblogs.com/yaya-003/p/12687546.html" target="_blank" rel="noopener noreferrer">Ajax请求放在Vue哪个生命周期中<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.590f3e5d.js" defer></script><script src="/assets/js/2.f73decc9.js" defer></script><script src="/assets/js/5.6a84a49e.js" defer></script><script src="/assets/js/63.b9a657c2.js" defer></script>
  </body>
</html>
